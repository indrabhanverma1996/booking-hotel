{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\project\\\\react\\\\src\\\\Components\\\\Hotel\\\\ReviewForm.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addReview } from \"../../redux/actions/reviews\";\nimport { setSuccess } from \"../../redux/actions/global\";\nimport ErrorMessage from \"../Global/ErrorMessage\";\nimport SuccessMessage from \"../Global/SuccessMessage\";\nimport useSecureLs from \"../Global/useSecureLs\";\n\nfunction ReviewForm(props) {\n  const dispatch = useDispatch();\n  const state = useSelector(state => state);\n  const [review, setReview] = useState({\n    content: \"\",\n    rating: \"\",\n    user_id: \"\",\n    hotel_id: \"\"\n  });\n\n  const onSubmitHandler = e => {\n    e.preventDefault();\n    addReview(dispatch, state.auth.token, review);\n  };\n\n  const [user_id] = useSecureLs(\"user_id\");\n  useEffect(() => {\n    setReview({\n      content: \"\",\n      rating: 10,\n      user_id,\n      hotel_id: props.match.params.id\n    });\n  }, []); // eslint-disable-line\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setSuccess(dispatch, null);\n    }, 3000);\n    return () => clearTimeout(timer);\n  }, [state.reviews.success]); // eslint-disable-line\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-8 p-5 md:px-16 xl:px-24\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, state.reviews.success === false && /*#__PURE__*/React.createElement(ErrorMessage, {\n    errors: state.reviews.errors,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }\n  }), state.reviews.success && /*#__PURE__*/React.createElement(SuccessMessage, {\n    message: \"Your Review Has Been Posted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"text-2xl font-semibold text-gray-800\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, \"Post A Review\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"w-full\",\n    onSubmit: onSubmitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    rows: \"3\",\n    className: \"w-full rounded-sm  border p-2 my-2 focus:outline-none focus:border-gray-700\",\n    value: review.content,\n    onChange: e => setReview({ ...review,\n      content: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"bg-orange-500 hover:bg-orange-700 text-gray-100 font-bold py-2 px-4 rounded-sm mr-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 21\n    }\n  }, \"Post\"), /*#__PURE__*/React.createElement(\"select\", {\n    className: \"py-2 px-4\",\n    value: review.rating,\n    onChange: e => setReview({ ...review,\n      rating: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 25\n    }\n  }, \"10 Amazing\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 25\n    }\n  }, \"9 Great\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 25\n    }\n  }, \"8 Very Good\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"7\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 25\n    }\n  }, \"7 Good\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 25\n    }\n  }, \"6 Fine\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 25\n    }\n  }, \"5 Average\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 25\n    }\n  }, \"4 Bad\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 25\n    }\n  }, \"3 Very Bad\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 25\n    }\n  }, \"2 Horrible\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 25\n    }\n  }, \"1 Appaling\")))));\n}\n\nexport default ReviewForm;","map":{"version":3,"sources":["C:/xampp/htdocs/project/react/src/Components/Hotel/ReviewForm.js"],"names":["React","useState","useEffect","useDispatch","useSelector","addReview","setSuccess","ErrorMessage","SuccessMessage","useSecureLs","ReviewForm","props","dispatch","state","review","setReview","content","rating","user_id","hotel_id","onSubmitHandler","e","preventDefault","auth","token","match","params","id","timer","setTimeout","clearTimeout","reviews","success","errors","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { addReview } from \"../../redux/actions/reviews\";\r\nimport { setSuccess } from \"../../redux/actions/global\";\r\nimport ErrorMessage from \"../Global/ErrorMessage\";\r\nimport SuccessMessage from \"../Global/SuccessMessage\";\r\nimport useSecureLs from \"../Global/useSecureLs\";\r\n\r\nfunction ReviewForm(props) {\r\n    const dispatch = useDispatch();\r\n    const state = useSelector((state) => state);\r\n    const [review, setReview] = useState({\r\n        content: \"\",\r\n        rating: \"\",\r\n        user_id: \"\",\r\n        hotel_id: \"\"\r\n    });\r\n\r\n    const onSubmitHandler = (e) => {\r\n        e.preventDefault();\r\n        addReview(dispatch, state.auth.token, review);\r\n    };\r\n\r\n    const [user_id] = useSecureLs(\"user_id\");\r\n\r\n    useEffect(() => {\r\n        setReview({\r\n            content: \"\",\r\n            rating: 10,\r\n            user_id,\r\n            hotel_id: props.match.params.id\r\n        });\r\n    }, []); // eslint-disable-line\r\n\r\n    useEffect(() => {\r\n        const timer = setTimeout(() => {\r\n            setSuccess(dispatch, null);\r\n        }, 3000);\r\n        return () => clearTimeout(timer);\r\n    }, [state.reviews.success]); // eslint-disable-line\r\n\r\n    return (\r\n        <div className=\"mt-8 p-5 md:px-16 xl:px-24\">\r\n            {state.reviews.success === false && (\r\n                <ErrorMessage errors={state.reviews.errors} />\r\n            )}\r\n            {state.reviews.success && (\r\n                <SuccessMessage message=\"Your Review Has Been Posted\" />\r\n            )}\r\n            <h2 className=\"text-2xl font-semibold text-gray-800\">\r\n                Post A Review\r\n            </h2>\r\n            <form className=\"w-full\" onSubmit={onSubmitHandler}>\r\n                <textarea\r\n                    rows=\"3\"\r\n                    className=\"w-full rounded-sm  border p-2 my-2 focus:outline-none focus:border-gray-700\"\r\n                    value={review.content}\r\n                    onChange={(e) =>\r\n                        setReview({ ...review, content: e.target.value })\r\n                    }\r\n                ></textarea>\r\n                <div className=\"flex items-center\">\r\n                    <button className=\"bg-orange-500 hover:bg-orange-700 text-gray-100 font-bold py-2 px-4 rounded-sm mr-5\">\r\n                        Post\r\n                    </button>\r\n                    <select\r\n                        className=\"py-2 px-4\"\r\n                        value={review.rating}\r\n                        onChange={(e) =>\r\n                            setReview({ ...review, rating: e.target.value })\r\n                        }\r\n                    >\r\n                        <option value=\"10\">10 Amazing</option>\r\n                        <option value=\"9\">9 Great</option>\r\n                        <option value=\"8\">8 Very Good</option>\r\n                        <option value=\"7\">7 Good</option>\r\n                        <option value=\"6\">6 Fine</option>\r\n                        <option value=\"5\">5 Average</option>\r\n                        <option value=\"4\">4 Bad</option>\r\n                        <option value=\"3\">3 Very Bad</option>\r\n                        <option value=\"2\">2 Horrible</option>\r\n                        <option value=\"1\">1 Appaling</option>\r\n                    </select>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ReviewForm;\r\n"]},"metadata":{},"sourceType":"module"}