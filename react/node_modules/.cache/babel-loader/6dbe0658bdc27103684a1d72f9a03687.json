{"ast":null,"code":"!function (t, e) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = e() : \"function\" == typeof define && define.amd ? define(e) : (t = t || self).Tagify = e();\n}(this, function () {\n  \"use strict\";\n\n  function t(e) {\n    return (t = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (t) {\n      return typeof t;\n    } : function (t) {\n      return t && \"function\" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? \"symbol\" : typeof t;\n    })(e);\n  }\n\n  function e(t, e, i) {\n    return e in t ? Object.defineProperty(t, e, {\n      value: i,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }) : t[e] = i, t;\n  }\n\n  function i(t, e) {\n    var i = Object.keys(t);\n\n    if (Object.getOwnPropertySymbols) {\n      var s = Object.getOwnPropertySymbols(t);\n      e && (s = s.filter(function (e) {\n        return Object.getOwnPropertyDescriptor(t, e).enumerable;\n      })), i.push.apply(i, s);\n    }\n\n    return i;\n  }\n\n  function s(t) {\n    for (var s = 1; s < arguments.length; s++) {\n      var a = null != arguments[s] ? arguments[s] : {};\n      s % 2 ? i(a, !0).forEach(function (i) {\n        e(t, i, a[i]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(a)) : i(a).forEach(function (e) {\n        Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(a, e));\n      });\n    }\n\n    return t;\n  }\n\n  function a(t) {\n    return function (t) {\n      if (Array.isArray(t)) {\n        for (var e = 0, i = new Array(t.length); e < t.length; e++) i[e] = t[e];\n\n        return i;\n      }\n    }(t) || function (t) {\n      if (Symbol.iterator in Object(t) || \"[object Arguments]\" === Object.prototype.toString.call(t)) return Array.from(t);\n    }(t) || function () {\n      throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n    }();\n  }\n\n  var n = function (t, e, i) {\n    return i ? t == e : (\"\" + t).toLowerCase() == (\"\" + e).toLowerCase();\n  };\n\n  function o(t) {\n    var e = Object.prototype.toString.call(t).split(\" \")[1].slice(0, -1);\n    return t === Object(t) && \"Array\" != e && \"Function\" != e && \"RegExp\" != e && \"HTMLUnknownElement\" != e;\n  }\n\n  function r(t) {\n    var e = document.createElement(\"div\");\n    return t.replace(/\\&#?[0-9a-z]+;/gi, function (t) {\n      return e.innerHTML = t, e.innerText;\n    });\n  }\n\n  function l(t) {\n    return t.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/`|'/g, \"&#039;\");\n  }\n\n  function d(t, e, i) {\n    function s(t, e) {\n      for (var i in e) e.hasOwnProperty(i) && (o(e[i]) ? o(t[i]) ? s(t[i], e[i]) : t[i] = Object.assign({}, e[i]) : t[i] = e[i]);\n    }\n\n    return t instanceof Object || (t = {}), s(t, e), i && s(t, i), t;\n  }\n\n  function c(t) {\n    return String.prototype.normalize ? \"string\" == typeof t ? t.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\") : void 0 : t;\n  }\n\n  var h = {\n    init: function () {\n      this.DOM.dropdown = this.parseTemplate(\"dropdown\", [this.settings]), this.DOM.dropdown.content = this.DOM.dropdown.querySelector(\".\" + this.settings.classNames.dropdownWrapper);\n    },\n    show: function (t) {\n      var e,\n          i,\n          s,\n          a = this,\n          r = this.settings,\n          l = window.getSelection(),\n          d = \"mix\" == r.mode && !r.enforceWhitelist,\n          c = !r.whitelist || !r.whitelist.length,\n          h = \"manual\" == r.dropdown.position;\n\n      if ((!c || d || r.templates.dropdownItemNoMatch) && !1 !== r.dropdown.enable && !this.state.isLoading) {\n        if (clearTimeout(this.dropdownHide__bindEventsTimeout), this.suggestedListItems = this.dropdown.filterListItems.call(this, t), t && !this.suggestedListItems.length && (this.trigger(\"dropdown:noMatch\", t), r.templates.dropdownItemNoMatch && (s = r.templates.dropdownItemNoMatch.call(this, {\n          value: t\n        }))), !s) {\n          if (this.suggestedListItems.length) t && d && !this.state.editing.scope && !n(this.suggestedListItems[0].value, t) && this.suggestedListItems.unshift({\n            value: t\n          });else {\n            if (!t || !d || this.state.editing.scope) return this.input.autocomplete.suggest.call(this), void this.dropdown.hide.call(this);\n            this.suggestedListItems = [{\n              value: t\n            }];\n          }\n          i = \"\" + (o(e = this.suggestedListItems[0]) ? e.value : e), r.autoComplete && i && 0 == i.indexOf(t) && this.input.autocomplete.suggest.call(this, e);\n        }\n\n        this.dropdown.fill.call(this, s), r.dropdown.highlightFirst && this.dropdown.highlightOption.call(this, this.DOM.dropdown.content.children[0]), this.state.dropdown.visible || setTimeout(this.dropdown.events.binding.bind(this)), this.state.dropdown.visible = t || !0, this.state.dropdown.query = t, this.state.selection = {\n          anchorOffset: l.anchorOffset,\n          anchorNode: l.anchorNode\n        }, h || setTimeout(function () {\n          a.dropdown.position.call(a), a.dropdown.render.call(a);\n        }), setTimeout(function () {\n          a.trigger(\"dropdown:show\", a.DOM.dropdown);\n        });\n      }\n    },\n    hide: function (t) {\n      var e = this,\n          i = this.DOM,\n          s = i.scope,\n          a = i.dropdown,\n          n = \"manual\" == this.settings.dropdown.position && !t;\n      if (a && document.body.contains(a) && !n) return window.removeEventListener(\"resize\", this.dropdown.position), this.dropdown.events.binding.call(this, !1), s.setAttribute(\"aria-expanded\", !1), a.parentNode.removeChild(a), setTimeout(function () {\n        e.state.dropdown.visible = !1;\n      }, 100), this.state.dropdown.query = this.state.ddItemData = this.state.ddItemElm = this.state.selection = null, this.state.tag && this.state.tag.value.length && (this.state.flaggedTags[this.state.tag.baseOffset] = this.state.tag), this.trigger(\"dropdown:hide\", a), this;\n    },\n    render: function () {\n      var t,\n          e,\n          i,\n          s = this,\n          a = (t = this.DOM.dropdown, (i = t.cloneNode(!0)).style.cssText = \"position:fixed; top:-9999px; opacity:0\", document.body.appendChild(i), e = i.clientHeight, i.parentNode.removeChild(i), e),\n          n = this.settings;\n      return this.DOM.scope.setAttribute(\"aria-expanded\", !0), document.body.contains(this.DOM.dropdown) || (this.DOM.dropdown.classList.add(n.classNames.dropdownInital), this.dropdown.position.call(this, a), n.dropdown.appendTarget.appendChild(this.DOM.dropdown), setTimeout(function () {\n        return s.DOM.dropdown.classList.remove(n.classNames.dropdownInital);\n      })), this;\n    },\n    fill: function (t) {\n      var e;\n      t = \"string\" == typeof t ? t : this.dropdown.createListHTML.call(this, t || this.suggestedListItems), this.DOM.dropdown.content.innerHTML = (e = t) ? e.replace(/\\>[\\r\\n ]+\\</g, \"><\").replace(/(<.*?>)|\\s+/g, function (t, e) {\n        return e || \" \";\n      }) : \"\";\n    },\n    refilter: function (t) {\n      t = t || this.state.dropdown.query || \"\", this.suggestedListItems = this.dropdown.filterListItems.call(this, t), this.suggestedListItems.length ? this.dropdown.fill.call(this) : this.dropdown.hide.call(this), this.trigger(\"dropdown:updated\", this.DOM.dropdown);\n    },\n    position: function (t) {\n      var e,\n          i,\n          s,\n          a,\n          n,\n          o,\n          r,\n          l = this.DOM.dropdown,\n          d = document.documentElement.clientHeight,\n          c = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0) > 480 ? this.settings.dropdown.position : \"all\",\n          h = this.DOM[\"input\" == c ? \"input\" : \"scope\"];\n      t = t || l.clientHeight, this.state.dropdown.visible && (\"text\" == c ? (a = (i = this.getCaretGlobalPosition()).bottom, s = i.top, n = i.left, o = \"auto\") : (r = function (t) {\n        for (var e = 0, i = 0; t;) e += t.offsetLeft || 0, i += t.offsetTop || 0, t = t.parentNode;\n\n        return {\n          left: e,\n          top: i\n        };\n      }(this.settings.dropdown.appendTarget), s = (i = h.getBoundingClientRect()).top + 2 - r.top, a = i.bottom - 1 - r.top, n = i.left - r.left, o = i.width + \"px\"), s = Math.floor(s), a = Math.ceil(a), e = d - i.bottom < t, l.style.cssText = \"left:\" + (n + window.pageXOffset) + \"px; width:\" + o + \";\" + (e ? \"top: \" + (s + window.pageYOffset) + \"px\" : \"top: \" + (a + window.pageYOffset) + \"px\"), l.setAttribute(\"placement\", e ? \"top\" : \"bottom\"), l.setAttribute(\"position\", c));\n    },\n    events: {\n      binding: function () {\n        var t = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0],\n            e = this.dropdown.events.callbacks,\n            i = this.listeners.dropdown = this.listeners.dropdown || {\n          position: this.dropdown.position.bind(this),\n          onKeyDown: e.onKeyDown.bind(this),\n          onMouseOver: e.onMouseOver.bind(this),\n          onMouseLeave: e.onMouseLeave.bind(this),\n          onClick: e.onClick.bind(this),\n          onScroll: e.onScroll.bind(this)\n        },\n            s = t ? \"addEventListener\" : \"removeEventListener\";\n        \"manual\" != this.settings.dropdown.position && (window[s](\"resize\", i.position), window[s](\"keydown\", i.onKeyDown)), this.DOM.dropdown[s](\"mouseover\", i.onMouseOver), this.DOM.dropdown[s](\"mouseleave\", i.onMouseLeave), this.DOM.dropdown[s](\"mousedown\", i.onClick), this.DOM.dropdown.content[s](\"scroll\", i.onScroll);\n      },\n      callbacks: {\n        onKeyDown: function (t) {\n          var e = this.DOM.dropdown.querySelector(\"[class$='--active']\"),\n              i = e;\n\n          switch (t.key) {\n            case \"ArrowDown\":\n            case \"ArrowUp\":\n            case \"Down\":\n            case \"Up\":\n              var s;\n              t.preventDefault(), i && (i = i[(\"ArrowUp\" == t.key || \"Up\" == t.key ? \"previous\" : \"next\") + \"ElementSibling\"]), i || (i = (s = this.DOM.dropdown.content.children)[\"ArrowUp\" == t.key || \"Up\" == t.key ? s.length - 1 : 0]), this.dropdown.highlightOption.call(this, i, !0);\n              break;\n\n            case \"Escape\":\n            case \"Esc\":\n              this.dropdown.hide.call(this);\n              break;\n\n            case \"ArrowRight\":\n              if (this.state.actions.ArrowLeft) return;\n\n            case \"Tab\":\n              if (\"mix\" != this.settings.mode && i && !this.settings.autoComplete.rightKey && !this.state.editing) {\n                t.preventDefault();\n                var a = i.getAttribute(\"tagifySuggestionIdx\"),\n                    n = a ? this.suggestedListItems[+a] : \"\";\n                return this.input.autocomplete.set.call(this, n.value || n), !1;\n              }\n\n              return !0;\n\n            case \"Enter\":\n              t.preventDefault(), this.dropdown.selectOption.call(this, e);\n              break;\n\n            case \"Backspace\":\n              if (\"mix\" == this.settings.mode || this.state.editing.scope) return;\n              var o = this.input.value.trim();\n              \"\" != o && 8203 != o.charCodeAt(0) || (!0 === this.settings.backspace ? this.removeTags() : \"edit\" == this.settings.backspace && setTimeout(this.editTag.bind(this), 0));\n          }\n        },\n        onMouseOver: function (t) {\n          var e = t.target.closest(\".\" + this.settings.classNames.dropdownItem);\n          e && this.dropdown.highlightOption.call(this, e);\n        },\n        onMouseLeave: function (t) {\n          this.dropdown.highlightOption.call(this);\n        },\n        onClick: function (t) {\n          var e = this;\n\n          if (0 == t.button && t.target != this.DOM.dropdown) {\n            var i = t.target.closest(\".\" + this.settings.classNames.dropdownItem);\n            this.state.actions.selectOption = !0, setTimeout(function () {\n              return e.state.actions.selectOption = !1;\n            }, 50), this.settings.hooks.suggestionClick(t, {\n              tagify: this,\n              suggestionElm: i\n            }).then(function () {\n              i && e.dropdown.selectOption.call(e, i);\n            }).catch(function (t) {\n              return t;\n            });\n          }\n        },\n        onScroll: function (t) {\n          var e = t.target,\n              i = e.scrollTop / (e.scrollHeight - e.parentNode.clientHeight) * 100;\n          this.trigger(\"dropdown:scroll\", {\n            percentage: Math.round(i)\n          });\n        }\n      }\n    },\n    highlightOption: function (t, e) {\n      var i,\n          s = this.settings.classNames.dropdownItemActive;\n      if (this.state.ddItemElm && (this.state.ddItemElm.classList.remove(s), this.state.ddItemElm.removeAttribute(\"aria-selected\")), !t) return this.state.ddItemData = null, this.state.ddItemElm = null, void this.input.autocomplete.suggest.call(this);\n      i = this.suggestedListItems[this.getNodeIndex(t)], this.state.ddItemData = i, this.state.ddItemElm = t, t.classList.add(s), t.setAttribute(\"aria-selected\", !0), e && (t.parentNode.scrollTop = t.clientHeight + t.offsetTop - t.parentNode.clientHeight), this.settings.autoComplete && (this.input.autocomplete.suggest.call(this, i), \"manual\" != this.settings.dropdown.position && this.dropdown.position.call(this));\n    },\n    selectOption: function (t) {\n      var e = this,\n          i = this.settings.dropdown,\n          a = i.clearOnSelect,\n          n = i.closeOnSelect;\n      if (!t) return this.addTags(this.input.value, !0), void (n && this.dropdown.hide.call(this));\n      var o = t.getAttribute(\"tagifySuggestionIdx\"),\n          r = (o ? this.suggestedListItems[+o] : \"\") || this.input.value;\n      if (this.trigger(\"dropdown:select\", {\n        data: r,\n        elm: t\n      }), this.state.editing ? this.onEditTagDone(this.state.editing.scope, s(s(s({}, this.state.editing.scope.__tagifyTagData), {}, {\n        value: r.value\n      }, r instanceof Object ? r : {}), {}, {\n        __isValid: !0\n      })) : this.addTags([r], a), setTimeout(function () {\n        e.DOM.input.focus(), e.toggleFocusClass(!0);\n      }), n) return this.dropdown.hide.call(this);\n      this.dropdown.refilter.call(this);\n    },\n    selectAll: function () {\n      var t = this.settings.skipInvalid;\n      return this.settings.skipInvalid = !0, this.addTags(this.settings.whitelist, !0), this.settings.skipInvalid = t, this.dropdown.hide.call(this), this;\n    },\n    filterListItems: function (t) {\n      var e,\n          i,\n          s,\n          a,\n          n,\n          r = this,\n          l = this.settings,\n          d = l.dropdown,\n          h = [],\n          g = l.whitelist,\n          u = d.maxItems || 1 / 0,\n          p = d.searchKeys,\n          f = 0;\n      if (!t || !p.length) return (l.duplicates ? g : g.filter(function (t) {\n        return !r.isTagDuplicate(o(t) ? t.value : t);\n      })).slice(0, u);\n\n      function m(t, e) {\n        return e.toLowerCase().split(\" \").every(function (e) {\n          return t.includes(e.toLowerCase());\n        });\n      }\n\n      for (n = d.caseSensitive ? \"\" + t : (\"\" + t).toLowerCase(); f < g.length && (e = g[f] instanceof Object ? g[f] : {\n        value: g[f]\n      }, d.fuzzySearch ? (s = p.reduce(function (t, i) {\n        return t + \" \" + (e[i] || \"\");\n      }, \"\").toLowerCase(), i = m(d.accentedSearch ? c(s) : s, n)) : i = p.some(function (t) {\n        var i = \"\" + (e[t] || \"\");\n        return d.accentedSearch && (i = c(i), n = c(n)), d.caseSensitive || (i = i.toLowerCase()), 0 == i.indexOf(n);\n      }), a = !l.duplicates && this.isTagDuplicate(o(e) ? e.value : e), i && !a && u-- && h.push(e), 0 != u); f++);\n\n      return h;\n    },\n    createListHTML: function (t) {\n      var e = this;\n      return t.map(function (t, i) {\n        \"string\" != typeof t && \"number\" != typeof t || (t = {\n          value: t\n        });\n        var s = e.settings.dropdown.mapValueTo,\n            a = s ? \"function\" == typeof s ? s(t) : t[s] : t.value,\n            n = d({}, t, {\n          value: a && \"string\" == typeof a ? l(a) : a,\n          tagifySuggestionIdx: i\n        });\n        return e.settings.templates.dropdownItem.call(e, n);\n      }).join(\"\");\n    }\n  },\n      g = {\n    delimiters: \",\",\n    pattern: null,\n    maxTags: 1 / 0,\n    callbacks: {},\n    addTagOnBlur: !0,\n    duplicates: !1,\n    whitelist: [],\n    blacklist: [],\n    enforceWhitelist: !1,\n    keepInvalidTags: !1,\n    mixTagsAllowedAfter: /,|\\.|\\:|\\s/,\n    mixTagsInterpolator: [\"[[\", \"]]\"],\n    backspace: !0,\n    skipInvalid: !1,\n    editTags: 2,\n    transformTag: function () {},\n    trim: !0,\n    mixMode: {\n      insertAfterTag: \" \"\n    },\n    autoComplete: {\n      enabled: !0,\n      rightKey: !1\n    },\n    classNames: {\n      namespace: \"tagify\",\n      input: \"tagify__input\",\n      focus: \"tagify--focus\",\n      tag: \"tagify__tag\",\n      tagNoAnimation: \"tagify--noAnim\",\n      tagInvalid: \"tagify--invalid\",\n      tagNotAllowed: \"tagify--notAllowed\",\n      inputInvalid: \"tagify__input--invalid\",\n      tagX: \"tagify__tag__removeBtn\",\n      tagText: \"tagify__tag-text\",\n      dropdown: \"tagify__dropdown\",\n      dropdownWrapper: \"tagify__dropdown__wrapper\",\n      dropdownItem: \"tagify__dropdown__item\",\n      dropdownItemActive: \"tagify__dropdown__item--active\",\n      dropdownInital: \"tagify__dropdown--initial\",\n      scopeLoading: \"tagify--loading\",\n      tagLoading: \"tagify__tag--loading\",\n      tagEditing: \"tagify__tag--editable\",\n      tagFlash: \"tagify__tag--flash\",\n      tagHide: \"tagify__tag--hide\",\n      hasMaxTags: \"tagify--hasMaxTags\",\n      hasNoTags: \"tagify--noTags\",\n      empty: \"tagify--empty\"\n    },\n    dropdown: {\n      classname: \"\",\n      enabled: 2,\n      maxItems: 10,\n      searchKeys: [\"value\", \"searchBy\"],\n      fuzzySearch: !0,\n      caseSensitive: !1,\n      accentedSearch: !0,\n      highlightFirst: !1,\n      closeOnSelect: !0,\n      clearOnSelect: !0,\n      position: \"all\",\n      appendTarget: null\n    },\n    hooks: {\n      beforeRemoveTag: function () {\n        return Promise.resolve();\n      },\n      suggestionClick: function () {\n        return Promise.resolve();\n      }\n    }\n  };\n  var u = {\n    customBinding: function () {\n      var t = this;\n      this.customEventsList.forEach(function (e) {\n        t.on(e, t.settings.callbacks[e]);\n      });\n    },\n    binding: function () {\n      var t,\n          e = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0],\n          i = this.events.callbacks,\n          s = e ? \"addEventListener\" : \"removeEventListener\";\n      if (!this.state.mainEvents || !e) for (var a in this.state.mainEvents = e, e && !this.listeners.main && (this.DOM.input.addEventListener(this.isIE ? \"keydown\" : \"input\", i[this.isIE ? \"onInputIE\" : \"onInput\"].bind(this)), this.settings.isJQueryPlugin && jQuery(this.DOM.originalInput).on(\"tagify.removeAllTags\", this.removeAllTags.bind(this))), t = this.listeners.main = this.listeners.main || {\n        focus: [\"input\", i.onFocusBlur.bind(this)],\n        blur: [\"input\", i.onFocusBlur.bind(this)],\n        keydown: [\"input\", i.onKeydown.bind(this)],\n        click: [\"scope\", i.onClickScope.bind(this)],\n        dblclick: [\"scope\", i.onDoubleClickScope.bind(this)],\n        paste: [\"input\", i.onPaste.bind(this)]\n      }) (\"blur\" != a || e) && this.DOM[t[a][0]][s](a, t[a][1]);\n    },\n    callbacks: {\n      onFocusBlur: function (t) {\n        var e = t.target ? this.trim(t.target.textContent) : \"\",\n            i = this.settings,\n            s = t.type,\n            a = i.dropdown.enabled >= 0,\n            n = {\n          relatedTarget: t.relatedTarget\n        },\n            o = this.state.actions.selectOption && (a || !i.dropdown.closeOnSelect),\n            r = this.state.actions.addNew && a,\n            l = window.getSelection();\n\n        if (\"blur\" == s) {\n          if (t.relatedTarget === this.DOM.scope) return this.dropdown.hide.call(this), void this.DOM.input.focus();\n          this.postUpdate(), this.triggerChangeEvent();\n        }\n\n        if (!o && !r) if (this.state.hasFocus = \"focus\" == s && +new Date(), this.toggleFocusClass(this.state.hasFocus), \"mix\" != i.mode) {\n          if (\"focus\" == s) return this.trigger(\"focus\", n), void (0 === i.dropdown.enabled && this.dropdown.show.call(this));\n          \"blur\" == s && (this.trigger(\"blur\", n), this.loading(!1), (\"select\" == this.settings.mode ? !this.value.length || this.value[0].value != e : e && !this.state.actions.selectOption && i.addTagOnBlur) && this.addTags(e, !0)), this.DOM.input.removeAttribute(\"style\"), this.dropdown.hide.call(this);\n        } else \"focus\" == s ? this.trigger(\"focus\", n) : \"blur\" == t.type && (this.trigger(\"blur\", n), this.loading(!1), this.dropdown.hide.call(this), this.state.dropdown.visible = void 0, this.state.selection = {\n          anchorOffset: l.anchorOffset,\n          anchorNode: l.anchorNode\n        }, l.getRangeAt && l.rangeCount && (this.state.selection.range = l.getRangeAt(0)));\n      },\n      onKeydown: function (t) {\n        var e = this,\n            i = this.trim(t.target.textContent);\n\n        if (this.trigger(\"keydown\", {\n          originalEvent: this.cloneEvent(t)\n        }), \"mix\" == this.settings.mode) {\n          switch (t.key) {\n            case \"Left\":\n            case \"ArrowLeft\":\n              this.state.actions.ArrowLeft = !0;\n              break;\n\n            case \"Delete\":\n            case \"Backspace\":\n              if (this.state.editing) return;\n              var s = document.getSelection(),\n                  a = \"Delete\" == t.key && s.anchorOffset == s.anchorNode.length,\n                  n = 1 == s.anchorNode.nodeType || !s.anchorOffset && s.anchorNode.previousElementSibling,\n                  o = r(this.DOM.input.innerHTML),\n                  l = this.getTagElms();\n              if (3 == s.anchorNode.nodeType && !s.anchorNode.nodeValue && s.anchorNode.previousElementSibling && t.preventDefault(), (n || a) && !this.settings.backspace) return void t.preventDefault();\n              setTimeout(function () {\n                if (r(e.DOM.input.innerHTML).length >= o.length && (e.removeTags(s.anchorNode.previousElementSibling), e.fixFirefoxLastTagNoCaret(), 2 == e.DOM.input.children.length && \"BR\" == e.DOM.input.children[1].tagName)) return e.DOM.input.innerHTML = \"\", e.value.length = 0, !0;\n                e.value = [].map.call(l, function (t, i) {\n                  var s = t.__tagifyTagData;\n                  if (t.parentNode) return s;\n                  e.trigger(\"remove\", {\n                    tag: t,\n                    index: i,\n                    data: s\n                  });\n                }).filter(function (t) {\n                  return t;\n                });\n              }, 50);\n          }\n\n          return !0;\n        }\n\n        switch (t.key) {\n          case \"Backspace\":\n            this.state.dropdown.visible && \"manual\" != this.settings.dropdown.position || \"\" != i && 8203 != i.charCodeAt(0) || (!0 === this.settings.backspace ? this.removeTags() : \"edit\" == this.settings.backspace && setTimeout(this.editTag.bind(this), 0));\n            break;\n\n          case \"Esc\":\n          case \"Escape\":\n            if (this.state.dropdown.visible) return;\n            t.target.blur();\n            break;\n\n          case \"Down\":\n          case \"ArrowDown\":\n            this.state.dropdown.visible || this.dropdown.show.call(this);\n            break;\n\n          case \"ArrowRight\":\n            var d = this.state.inputSuggestion || this.state.ddItemData;\n            if (d && this.settings.autoComplete.rightKey) return void this.addTags([d], !0);\n            break;\n\n          case \"Tab\":\n            if (i && t.preventDefault(), !i || \"select\" == this.settings.mode) return !0;\n\n          case \"Enter\":\n            if (this.state.dropdown.visible || 229 == t.keyCode) return;\n            t.preventDefault(), setTimeout(function () {\n              e.state.actions.selectOption || e.addTags(i, !0);\n            });\n        }\n      },\n      onInput: function (t) {\n        if (\"mix\" == this.settings.mode) return this.events.callbacks.onMixTagsInput.call(this, t);\n        var e = this.input.normalize.call(this),\n            i = e.length >= this.settings.dropdown.enabled,\n            s = {\n          value: e,\n          inputElm: this.DOM.input\n        };\n        s.isValid = this.validateTag({\n          value: e\n        }), this.trigger(\"input\", s), this.input.value != e && (this.input.set.call(this, e, !1), -1 != e.search(this.settings.delimiters) ? this.addTags(e) && this.input.set.call(this) : this.settings.dropdown.enabled >= 0 && this.dropdown[i ? \"show\" : \"hide\"].call(this, e));\n      },\n      onMixTagsInput: function (t) {\n        var e,\n            i,\n            s,\n            a,\n            n,\n            o,\n            r,\n            l,\n            c,\n            h = this,\n            g = this.settings,\n            u = this.value.length;\n        if (this.getTagElms().length > u) return this.value = [].map.call(this.getTagElms(), function (t) {\n          return t.__tagifyTagData;\n        }), void this.update({\n          withoutChangeEvent: !0\n        });\n        if (this.hasMaxTags()) return !0;\n\n        if (window.getSelection && (r = window.getSelection()).rangeCount > 0 && 3 == r.anchorNode.nodeType) {\n          if ((e = r.getRangeAt(0).cloneRange()).collapse(!0), e.setStart(r.focusNode, 0), a = (i = e.toString().slice(0, e.endOffset)).split(g.pattern).length - 1, (s = i.match(g.pattern)) && (n = i.slice(i.lastIndexOf(s[s.length - 1]))), n) {\n            if (this.state.actions.ArrowLeft = !1, this.state.tag = {\n              prefix: n.match(g.pattern)[0],\n              value: n.replace(g.pattern, \"\")\n            }, this.state.tag.baseOffset = r.baseOffset - this.state.tag.value.length, c = this.state.tag.value.match(g.delimiters)) return this.state.tag.value = this.state.tag.value.replace(g.delimiters, \"\"), this.state.tag.delimiters = c[0], this.addTags(this.state.tag.value, g.dropdown.clearOnSelect), void this.dropdown.hide.call(this);\n            o = this.state.tag.value.length >= g.dropdown.enabled;\n\n            try {\n              l = (l = this.state.flaggedTags[this.state.tag.baseOffset]).prefix == this.state.tag.prefix && l.value[0] == this.state.tag.value[0], this.state.flaggedTags[this.state.tag.baseOffset] && !this.state.tag.value && delete this.state.flaggedTags[this.state.tag.baseOffset];\n            } catch (t) {}\n\n            (l || a < this.state.mixMode.matchedPatternCount) && (o = !1);\n          } else this.state.flaggedTags = {};\n\n          this.state.mixMode.matchedPatternCount = a;\n        }\n\n        setTimeout(function () {\n          h.update({\n            withoutChangeEvent: !0\n          }), h.trigger(\"input\", d({}, h.state.tag, {\n            textContent: h.DOM.input.textContent\n          })), h.state.tag && h.dropdown[o ? \"show\" : \"hide\"].call(h, h.state.tag.value);\n        }, 10);\n      },\n      onInputIE: function (t) {\n        var e = this;\n        setTimeout(function () {\n          e.events.callbacks.onInput.call(e, t);\n        });\n      },\n      onClickScope: function (t) {\n        var e = t.target.closest(\".\" + this.settings.classNames.tag),\n            i = this.settings,\n            s = +new Date() - this.state.hasFocus;\n\n        if (t.target != this.DOM.scope) {\n          if (!t.target.classList.contains(this.settings.classNames.tagX)) return e ? (this.trigger(\"click\", {\n            tag: e,\n            index: this.getNodeIndex(e),\n            data: this.tagData(e),\n            originalEvent: this.cloneEvent(t)\n          }), void (1 == this.settings.editTags && this.events.callbacks.onDoubleClickScope.call(this, t))) : void (t.target == this.DOM.input && (\"mix\" == i.mode && this.fixFirefoxLastTagNoCaret(), s > 500) ? this.state.dropdown.visible ? this.dropdown.hide.call(this) : 0 === i.dropdown.enabled && \"mix\" != i.mode && this.dropdown.show.call(this) : \"select\" == i.mode && !this.state.dropdown.visible && this.dropdown.show.call(this));\n          this.removeTags(t.target.parentNode);\n        } else this.state.hasFocus || this.DOM.input.focus();\n      },\n      onPaste: function (t) {\n        var e;\n        t.preventDefault(), e = (t.clipboardData || window.clipboardData).getData(\"Text\"), \"mix\" == this.settings.mode ? this.injectAtCaret(e, window.getSelection().getRangeAt(0)) : this.addTags(e);\n      },\n      onEditTagInput: function (t, e) {\n        var i = t.closest(\".\" + this.settings.classNames.tag),\n            s = this.getNodeIndex(i),\n            a = this.tagData(i),\n            n = this.input.normalize.call(this, t),\n            o = n != a.__originalData.value,\n            r = this.validateTag({\n          value: n\n        });\n        o || !0 !== t.originalIsValid || (r = !0), i.classList.toggle(this.settings.classNames.tagInvalid, !0 !== r), a.__isValid = r, i.title = !0 === r ? a.title || a.value : r, n.length >= this.settings.dropdown.enabled && (this.state.editing.value = n, this.dropdown.show.call(this, n)), this.trigger(\"edit:input\", {\n          tag: i,\n          index: s,\n          data: d({}, this.value[s], {\n            newValue: n\n          }),\n          originalEvent: this.cloneEvent(e)\n        });\n      },\n      onEditTagFocus: function (t) {\n        this.state.editing = {\n          scope: t,\n          input: t.querySelector(\"[contenteditable]\")\n        };\n      },\n      onEditTagBlur: function (t) {\n        if (this.state.hasFocus || this.toggleFocusClass(), this.DOM.scope.contains(t)) {\n          var e = t.closest(\".\" + this.settings.classNames.tag),\n              i = this.input.normalize.call(this, t),\n              s = i,\n              a = d({}, this.tagData(e), {\n            value: s\n          }),\n              n = s != a.__originalData.value,\n              o = this.validateTag(a);\n          if (!i) return this.removeTags(e), void this.onEditTagDone(null, a);\n          n ? (this.settings.transformTag.call(this, a), !0 === (o = this.validateTag(a)) ? (a = this.getWhitelistItemByValue(s) || a.__preInvalidData || {}, a = Object.assign({}, a, {\n            value: s\n          }), this.settings.transformTag.call(this, a), this.onEditTagDone(e, a)) : this.trigger(\"invalid\", {\n            data: a,\n            tag: e,\n            message: o\n          })) : this.onEditTagDone(e, a.__originalData);\n        }\n      },\n      onEditTagkeydown: function (t, e) {\n        switch (this.trigger(\"edit:keydown\", {\n          originalEvent: this.cloneEvent(t)\n        }), t.key) {\n          case \"Esc\":\n          case \"Escape\":\n            t.target.textContent = e.__tagifyTagData.__originalData.value;\n\n          case \"Enter\":\n          case \"Tab\":\n            t.preventDefault(), t.target.blur();\n        }\n      },\n      onDoubleClickScope: function (t) {\n        var e,\n            i,\n            s = t.target.closest(\".\" + this.settings.classNames.tag),\n            a = this.settings;\n        s && (e = s.classList.contains(this.settings.classNames.tagEditing), i = s.hasAttribute(\"readonly\"), \"select\" == a.mode || a.readonly || e || i || !this.settings.editTags || this.editTag(s), this.toggleFocusClass(!0), this.trigger(\"dblclick\", {\n          tag: s,\n          index: this.getNodeIndex(s),\n          data: this.tagData(s)\n        }));\n      }\n    }\n  };\n\n  function p(t, e) {\n    return t.previousElementSibling && t.previousElementSibling.classList.contains(\"tagify\") ? (console.warn(\"Tagify: \", \"input element is already Tagified\", t), this) : t ? (this.isFirefox = \"undefined\" != typeof InstallTrigger, this.isIE = window.document.documentMode, this.applySettings(t, e || {}), this.state = {\n      editing: !1,\n      actions: {},\n      mixMode: {},\n      dropdown: {},\n      flaggedTags: {}\n    }, this.value = [], this.listeners = {}, this.DOM = {}, d(this, new this.EventDispatcher(this)), this.build(t), this.getCSSVars(), this.loadOriginalValues(), this.events.customBinding.call(this), this.events.binding.call(this), void (t.autofocus && this.DOM.input.focus())) : (console.warn(\"Tagify: \", \"invalid input element \", t), this);\n  }\n\n  return p.prototype = {\n    dropdown: h,\n    TEXTS: {\n      empty: \"empty\",\n      exceed: \"number of tags exceeded\",\n      pattern: \"pattern mismatch\",\n      duplicate: \"already exists\",\n      notAllowed: \"not allowed\"\n    },\n    DEFAULTS: g,\n    customEventsList: [\"change\", \"add\", \"remove\", \"invalid\", \"input\", \"click\", \"keydown\", \"focus\", \"blur\", \"edit:input\", \"edit:updated\", \"edit:start\", \"edit:keydown\", \"dropdown:show\", \"dropdown:hide\", \"dropdown:select\", \"dropdown:updated\", \"dropdown:noMatch\"],\n    trim: function (t) {\n      return this.settings.trim ? t.trim() : t;\n    },\n    parseHTML: function (t) {\n      return new DOMParser().parseFromString(t.trim(), \"text/html\").body.firstElementChild;\n    },\n    templates: {\n      wrapper: function (t, e) {\n        return '<tags class=\"'.concat(e.classNames.namespace, \" \").concat(e.mode ? \"\".concat(e.classNames.namespace, \"--\").concat(e.mode) : \"\", \" \").concat(t.className, '\"\\n                    ').concat(e.readonly ? \"readonly\" : \"\", \"\\n                    \").concat(e.required ? \"required\" : \"\", '\\n                    tabIndex=\"-1\">\\n            <span ').concat(e.readonly && \"mix\" == e.mode ? \"\" : \"contenteditable\", ' data-placeholder=\"').concat(e.placeholder || \"&#8203;\", '\" aria-placeholder=\"').concat(e.placeholder || \"\", '\"\\n                class=\"').concat(e.classNames.input, '\"\\n                role=\"textbox\"\\n                aria-autocomplete=\"both\"\\n                aria-multiline=\"').concat(\"mix\" == e.mode, '\"></span>\\n        </tags>');\n      },\n      tag: function (t) {\n        return '<tag title=\"'.concat(t.title || t.value, \"\\\"\\n                    contenteditable='false'\\n                    spellcheck='false'\\n                    tabIndex=\\\"-1\\\"\\n                    class=\\\"\").concat(this.settings.classNames.tag, \" \").concat(t.class ? t.class : \"\", '\"\\n                    ').concat(this.getAttributes(t), \">\\n            <x title='' class=\\\"\").concat(this.settings.classNames.tagX, \"\\\" role='button' aria-label='remove tag'></x>\\n            <div>\\n                <span class=\\\"\").concat(this.settings.classNames.tagText, '\">').concat(t.value, \"</span>\\n            </div>\\n        </tag>\");\n      },\n      dropdown: function (t) {\n        var e = t.dropdown,\n            i = \"manual\" == e.position,\n            s = \"\".concat(t.classNames.dropdown);\n        return '<div class=\"'.concat(i ? \"\" : s, \" \").concat(e.classname, '\" role=\"listbox\" aria-labelledby=\"dropdown\">\\n                    <div class=\"').concat(t.classNames.dropdownWrapper, '\"></div>\\n                </div>');\n      },\n      dropdownItem: function (t) {\n        return \"<div \".concat(this.getAttributes(t), \"\\n                    class='\").concat(this.settings.classNames.dropdownItem, \" \").concat(t.class ? t.class : \"\", '\\'\\n                    tabindex=\"0\"\\n                    role=\"option\">').concat(t.value, \"</div>\");\n      },\n      dropdownItemNoMatch: null\n    },\n    parseTemplate: function (t, e) {\n      return t = this.settings.templates[t] || t, this.parseHTML(t.apply(this, e));\n    },\n    applySettings: function (t, e) {\n      this.DEFAULTS.templates = this.templates;\n      var i = this.settings = d({}, this.DEFAULTS, e);\n      if (i.readonly = t.hasAttribute(\"readonly\"), i.placeholder = t.getAttribute(\"placeholder\") || i.placeholder || \"\", i.required = t.hasAttribute(\"required\"), this.isIE && (i.autoComplete = !1), [\"whitelist\", \"blacklist\"].forEach(function (e) {\n        var s = t.getAttribute(\"data-\" + e);\n        s && (s = s.split(i.delimiters)) instanceof Array && (i[e] = s);\n      }), \"autoComplete\" in e && !o(e.autoComplete) && (i.autoComplete = this.DEFAULTS.autoComplete, i.autoComplete.enabled = e.autoComplete), \"mix\" == i.mode && (i.autoComplete.rightKey = !0, i.delimiters = e.delimiters || null), t.pattern) try {\n        i.pattern = new RegExp(t.pattern);\n      } catch (t) {}\n      if (this.settings.delimiters) try {\n        i.delimiters = new RegExp(this.settings.delimiters, \"g\");\n      } catch (t) {}\n      \"select\" == i.mode && (i.dropdown.enabled = 0), i.dropdown.appendTarget = e.dropdown && e.dropdown.appendTarget ? e.dropdown.appendTarget : document.body;\n    },\n    getAttributes: function (t) {\n      if (\"[object Object]\" != Object.prototype.toString.call(t)) return \"\";\n      var e,\n          i,\n          s = Object.keys(t),\n          a = \"\";\n\n      for (i = s.length; i--;) \"class\" != (e = s[i]) && t.hasOwnProperty(e) && void 0 !== t[e] && (a += \" \" + e + (void 0 !== t[e] ? '=\"'.concat(t[e], '\"') : \"\"));\n\n      return a;\n    },\n    getCaretGlobalPosition: function () {\n      var t = document.getSelection();\n\n      if (t.rangeCount) {\n        var e,\n            i,\n            s = t.getRangeAt(0),\n            a = s.startContainer,\n            n = s.startOffset;\n        if (n > 0) return (i = document.createRange()).setStart(a, n - 1), i.setEnd(a, n), {\n          left: (e = i.getBoundingClientRect()).right,\n          top: e.top,\n          bottom: e.bottom\n        };\n        if (a.getBoundingClientRect) return a.getBoundingClientRect();\n      }\n\n      return {\n        left: -9999,\n        top: -9999\n      };\n    },\n    getCSSVars: function () {\n      var t,\n          e = getComputedStyle(this.DOM.scope, null);\n      this.CSSVars = {\n        tagHideTransition: function (t) {\n          var e = t.value;\n          return \"s\" == t.unit ? 1e3 * e : e;\n        }(function (t) {\n          if (!t) return {};\n          var e = (t = t.trim().split(\" \")[0]).split(/\\d+/g).filter(function (t) {\n            return t;\n          }).pop().trim();\n          return {\n            value: +t.split(e).filter(function (t) {\n              return t;\n            })[0].trim(),\n            unit: e\n          };\n        }((t = \"tag-hide-transition\", e.getPropertyValue(\"--\" + t))))\n      };\n    },\n    build: function (t) {\n      var e = this.DOM;\n      e.originalInput = t, e.scope = this.parseTemplate(\"wrapper\", [t, this.settings]), e.input = e.scope.querySelector(\".\" + this.settings.classNames.input), t.parentNode.insertBefore(e.scope, t), this.settings.dropdown.enabled >= 0 && this.dropdown.init.call(this);\n    },\n    destroy: function () {\n      this.DOM.scope.parentNode.removeChild(this.DOM.scope), this.dropdown.hide.call(this, !0), clearTimeout(this.dropdownHide__bindEventsTimeout);\n    },\n    loadOriginalValues: function (t) {\n      var e = this;\n      if (t = t || this.DOM.originalInput.value) {\n        if (this.removeAllTags(), \"mix\" == this.settings.mode) this.parseMixTags(t.trim());else {\n          try {\n            JSON.parse(t) instanceof Array && (t = JSON.parse(t));\n          } catch (t) {}\n\n          this.addTags(t).forEach(function (t) {\n            return t && t.classList.add(e.settings.classNames.tagNoAnimation);\n          });\n        }\n      } else this.postUpdate();\n      this.state.lastOriginalValueReported = this.DOM.originalInput.value, this.state.loadedOriginalValues = !0;\n    },\n    cloneEvent: function (t) {\n      var e = {};\n\n      for (var i in t) e[i] = t[i];\n\n      return e;\n    },\n    EventDispatcher: function (e) {\n      var i = document.createTextNode(\"\");\n\n      function s(t, e, s) {\n        s && e.split(/\\s+/g).forEach(function (e) {\n          return i[t + \"EventListener\"].call(i, e, s);\n        });\n      }\n\n      this.off = function (t, e) {\n        return s(\"remove\", t, e), this;\n      }, this.on = function (t, e) {\n        return e && \"function\" == typeof e && s(\"add\", t, e), this;\n      }, this.trigger = function (s, a) {\n        var n;\n        if (s) if (e.settings.isJQueryPlugin) \"remove\" == s && (s = \"removeTag\"), jQuery(e.DOM.originalInput).triggerHandler(s, [a]);else {\n          try {\n            var o = d({}, \"object\" === t(a) ? a : {\n              value: a\n            });\n            if (o.tagify = this, a instanceof Object) for (var r in a) a[r] instanceof HTMLElement && (o[r] = a[r]);\n            n = new CustomEvent(s, {\n              detail: o\n            });\n          } catch (t) {\n            console.warn(t);\n          }\n\n          i.dispatchEvent(n);\n        }\n      };\n    },\n    loading: function (t) {\n      return this.state.isLoading = t, this.DOM.scope.classList[t ? \"add\" : \"remove\"](this.settings.classNames.scopeLoading), this;\n    },\n    tagLoading: function (t, e) {\n      return t && t.classList[e ? \"add\" : \"remove\"](this.settings.classNames.tagLoading), this;\n    },\n    toggleFocusClass: function (t) {\n      this.DOM.scope.classList.toggle(this.settings.classNames.focus, !!t);\n    },\n    triggerChangeEvent: function () {\n      var t = this.DOM.originalInput,\n          e = this.state.lastOriginalValueReported !== t.value,\n          i = new CustomEvent(\"change\", {\n        bubbles: !0\n      });\n      e && (this.state.lastOriginalValueReported = t.value, i.simulated = !0, t._valueTracker && t._valueTracker.setValue(Math.random()), t.dispatchEvent(i), this.trigger(\"change\", this.state.lastOriginalValueReported), t.value = this.state.lastOriginalValueReported);\n    },\n    events: u,\n    fixFirefoxLastTagNoCaret: function () {\n      var t = this.DOM.input;\n      if (this.isFirefox && t.childNodes.length && 1 == t.lastChild.nodeType) return t.appendChild(document.createTextNode(\"​\")), this.setRangeAtStartEnd(!0), !0;\n    },\n    placeCaretAfterTag: function (t) {\n      var e = t.nextSibling,\n          i = window.getSelection(),\n          s = i.getRangeAt(0);\n      i.rangeCount && (s.setStartAfter(e || t), s.setEndAfter(e || t), i.removeAllRanges(), i.addRange(s));\n    },\n    insertAfterTag: function (t, e) {\n      e = e || this.settings.mixMode.insertAfterTag, t && e && (e = \"string\" == typeof e ? document.createTextNode(e) : e, t.appendChild(e), t.parentNode.insertBefore(e, t.nextSibling));\n    },\n    editTag: function (t, e) {\n      var i = this;\n      t = t || this.getLastTag(), e = e || {}, this.dropdown.hide.call(this);\n      var s = t.querySelector(\".\" + this.settings.classNames.tagText),\n          a = this.getNodeIndex(t),\n          n = t.__tagifyTagData,\n          o = this.events.callbacks,\n          r = this,\n          l = !0;\n\n      if (s) {\n        if (!(n instanceof Object && \"editable\" in n) || n.editable) return t.__tagifyTagData.__originalData = d({}, n), t.classList.add(this.settings.classNames.tagEditing), s.setAttribute(\"contenteditable\", !0), s.addEventListener(\"focus\", o.onEditTagFocus.bind(this, t)), s.addEventListener(\"blur\", function () {\n          setTimeout(o.onEditTagBlur.bind(r), 0, s);\n        }), s.addEventListener(\"input\", o.onEditTagInput.bind(this, s)), s.addEventListener(\"keydown\", function (e) {\n          return o.onEditTagkeydown.call(i, e, t);\n        }), s.focus(), this.setRangeAtStartEnd(!1, s), e.skipValidation || (l = this.editTagToggleValidity(t, n.value)), s.originalIsValid = l, this.trigger(\"edit:start\", {\n          tag: t,\n          index: a,\n          data: n,\n          isValid: l\n        }), this;\n      } else console.warn(\"Cannot find element in Tag template: .\", this.settings.classNames.tagText);\n    },\n    editTagToggleValidity: function (t, e) {\n      var i,\n          s = t.__tagifyTagData;\n      if (s) return i = !(!s.__isValid || 1 == s.__isValid), t.classList.toggle(this.settings.classNames.tagInvalid, i), s.__isValid;\n      console.warn(\"tag has no data: \", t, s);\n    },\n    onEditTagDone: function (t, e) {\n      this.state.editing = !1, e = e || {};\n      var i = {\n        tag: t,\n        index: this.getNodeIndex(t),\n        data: e\n      };\n      this.trigger(\"edit:beforeUpdate\", i), delete e.__originalData, t && (this.editTagToggleValidity(t), this.replaceTag(t, e)), this.trigger(\"edit:updated\", i), this.dropdown.hide.call(this), this.settings.keepInvalidTags && this.reCheckInvalidTags();\n    },\n    replaceTag: function (t, e) {\n      e && e.value || (e = t.__tagifyTagData), e.__isValid && 1 != e.__isValid && d(e, this.getInvalidTagParams(e, e.__isValid));\n      var i = this.createTagElem(e);\n      t.parentNode.replaceChild(i, t), this.updateValueByDOMTags();\n    },\n    updateValueByDOMTags: function () {\n      var t = this;\n      this.value.length = 0, [].forEach.call(this.getTagElms(), function (e) {\n        e.classList.contains(t.settings.classNames.tagNotAllowed) || t.value.push(t.tagData(e));\n      }), this.update();\n    },\n    setRangeAtStartEnd: function (t, e) {\n      t = \"number\" == typeof t ? t : !!t, e = (e = e || this.DOM.input).lastChild || e;\n      var i = document.getSelection();\n\n      try {\n        i.rangeCount >= 1 && [\"Start\", \"End\"].forEach(function (s) {\n          return i.getRangeAt(0)[\"set\" + s](e, t || e.length);\n        });\n      } catch (t) {\n        console.warn(\"Tagify: \", t);\n      }\n    },\n    injectAtCaret: function (t, e) {\n      if (e = e || this.state.selection.range) return \"string\" == typeof t && (t = document.createTextNode(t)), e.deleteContents(), e.insertNode(t), this.setRangeAtStartEnd(!1, t), this.updateValueByDOMTags(), this.update(), this;\n    },\n    input: {\n      value: \"\",\n      set: function () {\n        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : \"\",\n            e = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1],\n            i = this.settings.dropdown.closeOnSelect;\n        this.input.value = t, e && (this.DOM.input.innerHTML = t), !t && i && this.dropdown.hide.bind(this), this.input.autocomplete.suggest.call(this), this.input.validate.call(this);\n      },\n      validate: function () {\n        var t = !this.input.value || !0 === this.validateTag({\n          value: this.input.value\n        });\n        return this.DOM.input.classList.toggle(this.settings.classNames.inputInvalid, !t), t;\n      },\n      normalize: function (t) {\n        var e = t || this.DOM.input,\n            i = [];\n        e.childNodes.forEach(function (t) {\n          return 3 == t.nodeType && i.push(t.nodeValue);\n        }), i = i.join(\"\\n\");\n\n        try {\n          i = i.replace(/(?:\\r\\n|\\r|\\n)/g, this.settings.delimiters.source.charAt(0));\n        } catch (t) {}\n\n        return i = i.replace(/\\s/g, \" \"), this.settings.trim && (i = i.replace(/^\\s+/, \"\")), i;\n      },\n      autocomplete: {\n        suggest: function (t) {\n          if (this.settings.autoComplete.enabled) {\n            \"string\" == typeof (t = t || {}) && (t = {\n              value: t\n            });\n            var e = t.value ? \"\" + t.value : \"\",\n                i = e.substr(0, this.input.value.length).toLowerCase(),\n                s = e.substring(this.input.value.length);\n            e && this.input.value && i == this.input.value.toLowerCase() ? (this.DOM.input.setAttribute(\"data-suggest\", s), this.state.inputSuggestion = t) : (this.DOM.input.removeAttribute(\"data-suggest\"), delete this.state.inputSuggestion);\n          }\n        },\n        set: function (t) {\n          var e = this.DOM.input.getAttribute(\"data-suggest\"),\n              i = t || (e ? this.input.value + e : null);\n          return !!i && (\"mix\" == this.settings.mode ? this.replaceTextWithNode(document.createTextNode(this.state.tag.prefix + i)) : (this.input.set.call(this, i), this.setRangeAtStartEnd()), this.input.autocomplete.suggest.call(this), this.dropdown.hide.call(this), !0);\n        }\n      }\n    },\n    getTagIdx: function (t) {\n      return this.value.findIndex(function (e) {\n        return JSON.stringify(e) == JSON.stringify(t);\n      });\n    },\n    getNodeIndex: function (t) {\n      var e = 0;\n      if (t) for (; t = t.previousElementSibling;) e++;\n      return e;\n    },\n    getTagElms: function () {\n      for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++) e[i] = arguments[i];\n\n      var s = [\".\" + this.settings.classNames.tag].concat(e).join(\".\");\n      return this.DOM.scope.querySelectorAll(s);\n    },\n    getLastTag: function () {\n      var t = this.DOM.scope.querySelectorAll(\".\".concat(this.settings.classNames.tag, \":not(.\").concat(this.settings.classNames.tagHide, \"):not([readonly])\"));\n      return t[t.length - 1];\n    },\n    tagData: function (t, e) {\n      return t ? (e && (t.__tagifyTagData = d({}, t.__tagifyTagData || {}, e)), t.__tagifyTagData) : (console.warn(\"tag elment doesn't exist\", t, e), e);\n    },\n    isTagDuplicate: function (t, e) {\n      var i = this,\n          s = this.settings;\n      return \"select\" != s.mode && this.value.reduce(function (a, o) {\n        return n(i.trim(\"\" + t), o.value, e || s.dropdown.caseSensitive) ? a + 1 : a;\n      }, 0);\n    },\n    getTagIndexByValue: function (t) {\n      var e = this,\n          i = [];\n      return this.getTagElms().forEach(function (s, a) {\n        n(e.trim(s.textContent), t, e.settings.dropdown.caseSensitive) && i.push(a);\n      }), i;\n    },\n    getTagElmByValue: function (t) {\n      var e = this.getTagIndexByValue(t)[0];\n      return this.getTagElms()[e];\n    },\n    flashTag: function (t) {\n      var e = this;\n      t && (t.classList.add(this.settings.classNames.tagFlash), setTimeout(function () {\n        t.classList.remove(e.settings.classNames.tagFlash);\n      }, 100));\n    },\n    isTagBlacklisted: function (t) {\n      return t = this.trim(t.toLowerCase()), this.settings.blacklist.filter(function (e) {\n        return (\"\" + e).toLowerCase() == t;\n      }).length;\n    },\n    isTagWhitelisted: function (t) {\n      var e = this;\n      return this.settings.whitelist.some(function (i) {\n        return \"string\" == typeof t ? n(e.trim(t), i.value || i) : n(JSON.stringify(i), JSON.stringify(t));\n      });\n    },\n    validateTag: function (t) {\n      var e = this.trim(t.value),\n          i = this.settings;\n      return t.value.trim() ? i.pattern && i.pattern instanceof RegExp && !i.pattern.test(e) ? this.TEXTS.pattern : !i.duplicates && this.isTagDuplicate(e, this.state.editing) ? this.TEXTS.duplicate : !(this.isTagBlacklisted(e) || i.enforceWhitelist && !this.isTagWhitelisted(e)) || this.TEXTS.notAllowed : this.TEXTS.empty;\n    },\n    getInvalidTagParams: function (t, e) {\n      return {\n        \"aria-invalid\": !0,\n        class: \"\".concat(t.class || \"\", \" \").concat(this.settings.classNames.tagNotAllowed).trim(),\n        title: e\n      };\n    },\n    hasMaxTags: function () {\n      return this.value.length >= this.settings.maxTags && this.TEXTS.exceed;\n    },\n    normalizeTags: function (t) {\n      var e = this,\n          i = this.settings,\n          n = i.whitelist,\n          o = i.delimiters,\n          r = i.mode,\n          l = !!n && n[0] instanceof Object,\n          d = t instanceof Array,\n          c = [],\n          h = function (t) {\n        return (t + \"\").split(o).filter(function (t) {\n          return t;\n        }).map(function (t) {\n          return {\n            value: e.trim(t)\n          };\n        });\n      };\n\n      if (\"number\" == typeof t && (t = t.toString()), \"string\" == typeof t) {\n        if (!t.trim()) return [];\n        t = h(t);\n      } else if (d) {\n        var g;\n        t = (g = []).concat.apply(g, a(t.map(function (t) {\n          return t.value ? h(t.value).map(function (e) {\n            return s(s({}, t), e);\n          }) : h(t);\n        })));\n      }\n\n      return l && (t.forEach(function (t) {\n        var i = e.getWhitelistItemByValue(t.value);\n        i && i instanceof Object ? c.push(i) : \"mix\" != r && c.push(t);\n      }), c.length && (t = c)), t;\n    },\n    getWhitelistItemByValue: function (t) {\n      var e,\n          i = this.settings;\n      return i.whitelist.some(function (s) {\n        if (n(\"string\" == typeof s ? s : s.value, t, i.dropdown.caseSensitive)) return e = \"string\" == typeof s ? {\n          value: s\n        } : s, !0;\n      }), e;\n    },\n    parseMixTags: function (t) {\n      var e = this,\n          i = this.settings,\n          s = i.mixTagsInterpolator,\n          a = i.duplicates,\n          n = i.transformTag,\n          o = i.enforceWhitelist,\n          r = [];\n      return t = t.split(s[0]).map(function (t, i) {\n        var l,\n            d,\n            c = t.split(s[1]),\n            h = c[0];\n\n        try {\n          if (h == +h) throw Error;\n          l = JSON.parse(h);\n        } catch (t) {\n          l = e.normalizeTags(h)[0];\n        }\n\n        if (!(c.length > 1) || o && !e.isTagWhitelisted(l.value) || !a && e.isTagDuplicate(l.value)) {\n          if (t) return i ? s[0] + t : t;\n        } else n.call(e, l), d = e.createTagElem(l), r.push(l), d.classList.add(e.settings.classNames.tagNoAnimation), c[0] = d.outerHTML, e.value.push(l);\n\n        return c.join(\"\");\n      }).join(\"\"), this.DOM.input.innerHTML = t, this.DOM.input.appendChild(document.createTextNode(\"\")), this.DOM.input.normalize(), this.getTagElms().forEach(function (t, i) {\n        return e.tagData(t, r[i]);\n      }), this.update({\n        withoutChangeEvent: !0\n      }), t;\n    },\n    replaceTextWithNode: function (t, e) {\n      if (this.state.tag || e) {\n        e = e || this.state.tag.prefix + this.state.tag.value;\n        var i,\n            s,\n            a = window.getSelection(),\n            n = a.anchorNode,\n            o = this.state.tag.delimiters ? this.state.tag.delimiters.length : 0;\n        return n.splitText(a.anchorOffset - o), i = n.nodeValue.lastIndexOf(e), s = n.splitText(i), t && n.parentNode.replaceChild(t, s), !0;\n      }\n    },\n    selectTag: function (t, e) {\n      if (!this.settings.enforceWhitelist || this.isTagWhitelisted(e.value)) return this.input.set.call(this, e.value, !0), this.state.actions.selectOption && setTimeout(this.setRangeAtStartEnd.bind(this)), this.getLastTag() ? this.replaceTag(this.getLastTag(), e) : this.appendTag(t), this.value[0] = e, this.trigger(\"add\", {\n        tag: t,\n        data: e\n      }), this.update(), [t];\n    },\n    addEmptyTag: function () {\n      var t = {\n        value: \"\"\n      },\n          e = this.createTagElem(t);\n      this.tagData(e, t), this.appendTag(e), this.editTag(e, {\n        skipValidation: !0\n      });\n    },\n    addTags: function (t, e) {\n      var i = this,\n          s = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : this.settings.skipInvalid,\n          a = [],\n          n = this.settings;\n      return t && 0 != t.length ? (t = this.normalizeTags(t), \"mix\" == n.mode ? this.addMixTags(t) : (\"select\" == n.mode && (e = !1), this.DOM.input.removeAttribute(\"style\"), t.forEach(function (t) {\n        var e,\n            o = {},\n            r = Object.assign({}, t, {\n          value: t.value + \"\"\n        });\n\n        if ((t = Object.assign({}, r)).__isValid = i.hasMaxTags() || i.validateTag(t), n.transformTag.call(i, t), !0 !== t.__isValid) {\n          if (s) return;\n          d(o, i.getInvalidTagParams(t, t.__isValid), {\n            __preInvalidData: r\n          }), t.__isValid == i.TEXTS.duplicate && i.flashTag(i.getTagElmByValue(t.value));\n        }\n\n        if (t.readonly && (o[\"aria-readonly\"] = !0), e = i.createTagElem(d({}, t, o)), a.push(e), \"select\" == n.mode) return i.selectTag(e, t);\n        i.appendTag(e), t.__isValid && !0 === t.__isValid ? (i.value.push(t), i.update(), i.trigger(\"add\", {\n          tag: e,\n          index: i.value.length - 1,\n          data: t\n        })) : (i.trigger(\"invalid\", {\n          data: t,\n          index: i.value.length,\n          tag: e,\n          message: t.__isValid\n        }), n.keepInvalidTags || setTimeout(function () {\n          return i.removeTags(e, !0);\n        }, 1e3)), i.dropdown.position.call(i);\n      }), t.length && e && this.input.set.call(this), this.dropdown.refilter.call(this), a)) : (\"select\" == n.mode && this.removeAllTags(), a);\n    },\n    addMixTags: function (t) {\n      var e,\n          i = this,\n          s = this.settings,\n          a = this.state.tag.delimiters;\n      return s.transformTag.call(this, t[0]), t[0].prefix = t[0].prefix || this.state.tag ? this.state.tag.prefix : (s.pattern.source || s.pattern)[0], e = this.createTagElem(t[0]), this.replaceTextWithNode(e) || this.DOM.input.appendChild(e), setTimeout(function () {\n        return e.classList.add(i.settings.classNames.tagNoAnimation);\n      }, 300), this.value.push(t[0]), this.update(), !a && setTimeout(function () {\n        i.insertAfterTag(e), i.placeCaretAfterTag(e);\n      }, this.isFirefox ? 100 : 0), this.state.tag = null, this.trigger(\"add\", d({}, {\n        tag: e\n      }, {\n        data: t[0]\n      })), e;\n    },\n    appendTag: function (t) {\n      var e = this.DOM.scope.lastElementChild;\n      e === this.DOM.input ? this.DOM.scope.insertBefore(t, e) : this.DOM.scope.appendChild(t);\n    },\n    createTagElem: function (t) {\n      var e,\n          i = d({}, t, {\n        value: l(t.value + \"\")\n      });\n      return this.settings.readonly && (t.readonly = !0), e = this.parseTemplate(\"tag\", [i]), this.tagData(e, t), e;\n    },\n    reCheckInvalidTags: function () {\n      var t = this,\n          e = this.settings,\n          i = \".\".concat(e.classNames.tag, \".\").concat(e.classNames.tagNotAllowed),\n          s = this.DOM.scope.querySelectorAll(i);\n      [].forEach.call(s, function (e) {\n        var i = t.tagData(e),\n            s = e.getAttribute(\"title\") == t.TEXTS.duplicate,\n            a = !0 === t.validateTag(i);\n        s && a && (i = i.__preInvalidData ? i.__preInvalidData : {\n          value: i.value\n        }, t.replaceTag(e, i));\n      });\n    },\n    removeTags: function (t, e, i) {\n      var s,\n          a = this;\n      t = t && t instanceof HTMLElement ? [t] : t instanceof Array ? t : t ? [t] : [this.getLastTag()], s = t.reduce(function (t, e) {\n        return e && \"string\" == typeof e && (e = a.getTagElmByValue(e)), e && t.push({\n          node: e,\n          idx: a.getTagIdx(a.tagData(e)),\n          data: a.tagData(e, {\n            __removed: !0\n          })\n        }), t;\n      }, []), i = \"number\" == typeof i ? i : this.CSSVars.tagHideTransition, \"select\" == this.settings.mode && (i = 0, this.input.set.call(this)), 1 == s.length && s[0].node.classList.contains(this.settings.classNames.tagNotAllowed) && (e = !0), s.length && this.settings.hooks.beforeRemoveTag(s, {\n        tagify: this\n      }).then(function () {\n        function t(t) {\n          t.node.parentNode && (t.node.parentNode.removeChild(t.node), e ? this.settings.keepInvalidTags && this.trigger(\"remove\", {\n            tag: t.node,\n            index: t.idx\n          }) : (this.trigger(\"remove\", {\n            tag: t.node,\n            index: t.idx,\n            data: t.data\n          }), this.dropdown.refilter.call(this), this.dropdown.position.call(this), this.DOM.input.normalize(), this.settings.keepInvalidTags && this.reCheckInvalidTags()));\n        }\n\n        i && i > 10 && 1 == s.length ? function (e) {\n          e.node.style.width = parseFloat(window.getComputedStyle(e.node).width) + \"px\", document.body.clientTop, e.node.classList.add(this.settings.classNames.tagHide), setTimeout(t.bind(this), i, e);\n        }.call(a, s[0]) : s.forEach(t.bind(a)), e || (s.forEach(function (t) {\n          var e = Object.assign({}, t.data);\n          delete e.__removed;\n          var i = a.getTagIdx(e);\n          i > -1 && a.value.splice(i, 1);\n        }), a.update());\n      }).catch(function (t) {});\n    },\n    removeAllTags: function () {\n      this.value = [], \"mix\" == this.settings.mode ? this.DOM.input.innerHTML = \"\" : Array.prototype.slice.call(this.getTagElms()).forEach(function (t) {\n        return t.parentNode.removeChild(t);\n      }), this.dropdown.position.call(this), \"select\" == this.settings.mode && this.input.set.call(this), this.update();\n    },\n    postUpdate: function () {\n      var t = this.settings.classNames,\n          e = \"mix\" == this.settings.mode ? this.DOM.originalInput.value : this.value.length;\n      this.DOM.scope.classList.toggle(t.hasMaxTags, this.value.length >= this.settings.maxTags), this.DOM.scope.classList.toggle(t.hasNoTags, !this.value.length), this.DOM.scope.classList.toggle(t.empty, !e);\n    },\n    update: function (t) {\n      var e,\n          i,\n          s = this.DOM.originalInput,\n          a = (t || {}).withoutChangeEvent,\n          n = (e = this.value, i = [\"__isValid\", \"__removed\"], e.map(function (t) {\n        var e = {};\n\n        for (var s in t) i.indexOf(s) < 0 && (e[s] = t[s]);\n\n        return e;\n      }));\n      s.value = \"mix\" == this.settings.mode ? this.getMixedTagsAsString(n) : n.length ? this.settings.originalInputValueFormat ? this.settings.originalInputValueFormat(n) : JSON.stringify(n) : \"\", this.postUpdate(), !a && this.state.loadedOriginalValues && this.triggerChangeEvent();\n    },\n    getMixedTagsAsString: function () {\n      var t = \"\",\n          e = this,\n          i = this.settings.mixTagsInterpolator;\n      return function s(a) {\n        a.childNodes.forEach(function (a) {\n          if (1 == a.nodeType) {\n            if (a.classList.contains(e.settings.classNames.tag) && e.tagData(a)) {\n              if (e.tagData(a).__removed) return;\n              return void (t += i[0] + JSON.stringify(a.__tagifyTagData) + i[1]);\n            }\n\n            \"BR\" != a.tagName || a.parentNode != e.DOM.input && 1 != a.parentNode.childNodes.length ? \"DIV\" != a.tagName && \"P\" != a.tagName || (t += \"\\r\\n\", s(a)) : t += \"\\r\\n\";\n          } else t += a.textContent;\n        });\n      }(this.DOM.input), t;\n    }\n  }, p.prototype.removeTag = p.prototype.removeTags, p;\n});","map":{"version":3,"sources":["C:/xampp/htdocs/hotel101-hotel-bookings-laravel-react/frontend/node_modules/@yaireo/tagify/dist/tagify.min.js"],"names":["t","e","exports","module","define","amd","self","Tagify","Symbol","iterator","constructor","prototype","i","Object","defineProperty","value","enumerable","configurable","writable","keys","getOwnPropertySymbols","s","filter","getOwnPropertyDescriptor","push","apply","arguments","length","a","forEach","getOwnPropertyDescriptors","defineProperties","Array","isArray","toString","call","from","TypeError","n","toLowerCase","o","split","slice","r","document","createElement","replace","innerHTML","innerText","l","d","hasOwnProperty","assign","c","String","normalize","h","init","DOM","dropdown","parseTemplate","settings","content","querySelector","classNames","dropdownWrapper","show","window","getSelection","mode","enforceWhitelist","whitelist","position","templates","dropdownItemNoMatch","enable","state","isLoading","clearTimeout","dropdownHide__bindEventsTimeout","suggestedListItems","filterListItems","trigger","editing","scope","unshift","input","autocomplete","suggest","hide","autoComplete","indexOf","fill","highlightFirst","highlightOption","children","visible","setTimeout","events","binding","bind","query","selection","anchorOffset","anchorNode","render","body","contains","removeEventListener","setAttribute","parentNode","removeChild","ddItemData","ddItemElm","tag","flaggedTags","baseOffset","cloneNode","style","cssText","appendChild","clientHeight","classList","add","dropdownInital","appendTarget","remove","createListHTML","refilter","documentElement","Math","max","clientWidth","innerWidth","getCaretGlobalPosition","bottom","top","left","offsetLeft","offsetTop","getBoundingClientRect","width","floor","ceil","pageXOffset","pageYOffset","callbacks","listeners","onKeyDown","onMouseOver","onMouseLeave","onClick","onScroll","key","preventDefault","actions","ArrowLeft","rightKey","getAttribute","set","selectOption","trim","charCodeAt","backspace","removeTags","editTag","target","closest","dropdownItem","button","hooks","suggestionClick","tagify","suggestionElm","then","catch","scrollTop","scrollHeight","percentage","round","dropdownItemActive","removeAttribute","getNodeIndex","clearOnSelect","closeOnSelect","addTags","data","elm","onEditTagDone","__tagifyTagData","__isValid","focus","toggleFocusClass","selectAll","skipInvalid","g","u","maxItems","p","searchKeys","f","duplicates","isTagDuplicate","m","every","includes","caseSensitive","fuzzySearch","reduce","accentedSearch","some","map","mapValueTo","tagifySuggestionIdx","join","delimiters","pattern","maxTags","addTagOnBlur","blacklist","keepInvalidTags","mixTagsAllowedAfter","mixTagsInterpolator","editTags","transformTag","mixMode","insertAfterTag","enabled","namespace","tagNoAnimation","tagInvalid","tagNotAllowed","inputInvalid","tagX","tagText","scopeLoading","tagLoading","tagEditing","tagFlash","tagHide","hasMaxTags","hasNoTags","empty","classname","beforeRemoveTag","Promise","resolve","customBinding","customEventsList","on","mainEvents","main","addEventListener","isIE","isJQueryPlugin","jQuery","originalInput","removeAllTags","onFocusBlur","blur","keydown","onKeydown","click","onClickScope","dblclick","onDoubleClickScope","paste","onPaste","textContent","type","relatedTarget","addNew","postUpdate","triggerChangeEvent","hasFocus","Date","loading","getRangeAt","rangeCount","range","originalEvent","cloneEvent","nodeType","previousElementSibling","getTagElms","nodeValue","fixFirefoxLastTagNoCaret","tagName","index","inputSuggestion","keyCode","onInput","onMixTagsInput","inputElm","isValid","validateTag","search","update","withoutChangeEvent","cloneRange","collapse","setStart","focusNode","endOffset","match","lastIndexOf","prefix","matchedPatternCount","onInputIE","tagData","clipboardData","getData","injectAtCaret","onEditTagInput","__originalData","originalIsValid","toggle","title","newValue","onEditTagFocus","onEditTagBlur","getWhitelistItemByValue","__preInvalidData","message","onEditTagkeydown","hasAttribute","readonly","console","warn","isFirefox","InstallTrigger","documentMode","applySettings","EventDispatcher","build","getCSSVars","loadOriginalValues","autofocus","TEXTS","exceed","duplicate","notAllowed","DEFAULTS","parseHTML","DOMParser","parseFromString","firstElementChild","wrapper","concat","className","required","placeholder","class","getAttributes","RegExp","startContainer","startOffset","createRange","setEnd","right","getComputedStyle","CSSVars","tagHideTransition","unit","pop","getPropertyValue","insertBefore","destroy","parseMixTags","JSON","parse","lastOriginalValueReported","loadedOriginalValues","createTextNode","off","triggerHandler","HTMLElement","CustomEvent","detail","dispatchEvent","bubbles","simulated","_valueTracker","setValue","random","childNodes","lastChild","setRangeAtStartEnd","placeCaretAfterTag","nextSibling","setStartAfter","setEndAfter","removeAllRanges","addRange","getLastTag","editable","skipValidation","editTagToggleValidity","replaceTag","reCheckInvalidTags","getInvalidTagParams","createTagElem","replaceChild","updateValueByDOMTags","deleteContents","insertNode","validate","source","charAt","substr","substring","replaceTextWithNode","getTagIdx","findIndex","stringify","querySelectorAll","getTagIndexByValue","getTagElmByValue","flashTag","isTagBlacklisted","isTagWhitelisted","test","normalizeTags","Error","outerHTML","splitText","selectTag","appendTag","addEmptyTag","addMixTags","lastElementChild","node","idx","__removed","parseFloat","clientTop","splice","getMixedTagsAsString","originalInputValueFormat","removeTag"],"mappings":"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","sourcesContent":["!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=t||self).Tagify=e()}(this,(function(){\"use strict\";function t(e){return(t=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(e)}function e(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function i(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function s(t){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?i(a,!0).forEach((function(i){e(t,i,a[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function a(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||\"[object Arguments]\"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}var n=function(t,e,i){return i?t==e:(\"\"+t).toLowerCase()==(\"\"+e).toLowerCase()};function o(t){var e=Object.prototype.toString.call(t).split(\" \")[1].slice(0,-1);return t===Object(t)&&\"Array\"!=e&&\"Function\"!=e&&\"RegExp\"!=e&&\"HTMLUnknownElement\"!=e}function r(t){var e=document.createElement(\"div\");return t.replace(/\\&#?[0-9a-z]+;/gi,(function(t){return e.innerHTML=t,e.innerText}))}function l(t){return t.replace(/&/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\").replace(/\"/g,\"&quot;\").replace(/`|'/g,\"&#039;\")}function d(t,e,i){function s(t,e){for(var i in e)e.hasOwnProperty(i)&&(o(e[i])?o(t[i])?s(t[i],e[i]):t[i]=Object.assign({},e[i]):t[i]=e[i])}return t instanceof Object||(t={}),s(t,e),i&&s(t,i),t}function c(t){return String.prototype.normalize?\"string\"==typeof t?t.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g,\"\"):void 0:t}var h={init:function(){this.DOM.dropdown=this.parseTemplate(\"dropdown\",[this.settings]),this.DOM.dropdown.content=this.DOM.dropdown.querySelector(\".\"+this.settings.classNames.dropdownWrapper)},show:function(t){var e,i,s,a=this,r=this.settings,l=window.getSelection(),d=\"mix\"==r.mode&&!r.enforceWhitelist,c=!r.whitelist||!r.whitelist.length,h=\"manual\"==r.dropdown.position;if((!c||d||r.templates.dropdownItemNoMatch)&&!1!==r.dropdown.enable&&!this.state.isLoading){if(clearTimeout(this.dropdownHide__bindEventsTimeout),this.suggestedListItems=this.dropdown.filterListItems.call(this,t),t&&!this.suggestedListItems.length&&(this.trigger(\"dropdown:noMatch\",t),r.templates.dropdownItemNoMatch&&(s=r.templates.dropdownItemNoMatch.call(this,{value:t}))),!s){if(this.suggestedListItems.length)t&&d&&!this.state.editing.scope&&!n(this.suggestedListItems[0].value,t)&&this.suggestedListItems.unshift({value:t});else{if(!t||!d||this.state.editing.scope)return this.input.autocomplete.suggest.call(this),void this.dropdown.hide.call(this);this.suggestedListItems=[{value:t}]}i=\"\"+(o(e=this.suggestedListItems[0])?e.value:e),r.autoComplete&&i&&0==i.indexOf(t)&&this.input.autocomplete.suggest.call(this,e)}this.dropdown.fill.call(this,s),r.dropdown.highlightFirst&&this.dropdown.highlightOption.call(this,this.DOM.dropdown.content.children[0]),this.state.dropdown.visible||setTimeout(this.dropdown.events.binding.bind(this)),this.state.dropdown.visible=t||!0,this.state.dropdown.query=t,this.state.selection={anchorOffset:l.anchorOffset,anchorNode:l.anchorNode},h||setTimeout((function(){a.dropdown.position.call(a),a.dropdown.render.call(a)})),setTimeout((function(){a.trigger(\"dropdown:show\",a.DOM.dropdown)}))}},hide:function(t){var e=this,i=this.DOM,s=i.scope,a=i.dropdown,n=\"manual\"==this.settings.dropdown.position&&!t;if(a&&document.body.contains(a)&&!n)return window.removeEventListener(\"resize\",this.dropdown.position),this.dropdown.events.binding.call(this,!1),s.setAttribute(\"aria-expanded\",!1),a.parentNode.removeChild(a),setTimeout((function(){e.state.dropdown.visible=!1}),100),this.state.dropdown.query=this.state.ddItemData=this.state.ddItemElm=this.state.selection=null,this.state.tag&&this.state.tag.value.length&&(this.state.flaggedTags[this.state.tag.baseOffset]=this.state.tag),this.trigger(\"dropdown:hide\",a),this},render:function(){var t,e,i,s=this,a=(t=this.DOM.dropdown,(i=t.cloneNode(!0)).style.cssText=\"position:fixed; top:-9999px; opacity:0\",document.body.appendChild(i),e=i.clientHeight,i.parentNode.removeChild(i),e),n=this.settings;return this.DOM.scope.setAttribute(\"aria-expanded\",!0),document.body.contains(this.DOM.dropdown)||(this.DOM.dropdown.classList.add(n.classNames.dropdownInital),this.dropdown.position.call(this,a),n.dropdown.appendTarget.appendChild(this.DOM.dropdown),setTimeout((function(){return s.DOM.dropdown.classList.remove(n.classNames.dropdownInital)}))),this},fill:function(t){var e;t=\"string\"==typeof t?t:this.dropdown.createListHTML.call(this,t||this.suggestedListItems),this.DOM.dropdown.content.innerHTML=(e=t)?e.replace(/\\>[\\r\\n ]+\\</g,\"><\").replace(/(<.*?>)|\\s+/g,(function(t,e){return e||\" \"})):\"\"},refilter:function(t){t=t||this.state.dropdown.query||\"\",this.suggestedListItems=this.dropdown.filterListItems.call(this,t),this.suggestedListItems.length?this.dropdown.fill.call(this):this.dropdown.hide.call(this),this.trigger(\"dropdown:updated\",this.DOM.dropdown)},position:function(t){var e,i,s,a,n,o,r,l=this.DOM.dropdown,d=document.documentElement.clientHeight,c=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0)>480?this.settings.dropdown.position:\"all\",h=this.DOM[\"input\"==c?\"input\":\"scope\"];t=t||l.clientHeight,this.state.dropdown.visible&&(\"text\"==c?(a=(i=this.getCaretGlobalPosition()).bottom,s=i.top,n=i.left,o=\"auto\"):(r=function(t){for(var e=0,i=0;t;)e+=t.offsetLeft||0,i+=t.offsetTop||0,t=t.parentNode;return{left:e,top:i}}(this.settings.dropdown.appendTarget),s=(i=h.getBoundingClientRect()).top+2-r.top,a=i.bottom-1-r.top,n=i.left-r.left,o=i.width+\"px\"),s=Math.floor(s),a=Math.ceil(a),e=d-i.bottom<t,l.style.cssText=\"left:\"+(n+window.pageXOffset)+\"px; width:\"+o+\";\"+(e?\"top: \"+(s+window.pageYOffset)+\"px\":\"top: \"+(a+window.pageYOffset)+\"px\"),l.setAttribute(\"placement\",e?\"top\":\"bottom\"),l.setAttribute(\"position\",c))},events:{binding:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.dropdown.events.callbacks,i=this.listeners.dropdown=this.listeners.dropdown||{position:this.dropdown.position.bind(this),onKeyDown:e.onKeyDown.bind(this),onMouseOver:e.onMouseOver.bind(this),onMouseLeave:e.onMouseLeave.bind(this),onClick:e.onClick.bind(this),onScroll:e.onScroll.bind(this)},s=t?\"addEventListener\":\"removeEventListener\";\"manual\"!=this.settings.dropdown.position&&(window[s](\"resize\",i.position),window[s](\"keydown\",i.onKeyDown)),this.DOM.dropdown[s](\"mouseover\",i.onMouseOver),this.DOM.dropdown[s](\"mouseleave\",i.onMouseLeave),this.DOM.dropdown[s](\"mousedown\",i.onClick),this.DOM.dropdown.content[s](\"scroll\",i.onScroll)},callbacks:{onKeyDown:function(t){var e=this.DOM.dropdown.querySelector(\"[class$='--active']\"),i=e;switch(t.key){case\"ArrowDown\":case\"ArrowUp\":case\"Down\":case\"Up\":var s;t.preventDefault(),i&&(i=i[(\"ArrowUp\"==t.key||\"Up\"==t.key?\"previous\":\"next\")+\"ElementSibling\"]),i||(i=(s=this.DOM.dropdown.content.children)[\"ArrowUp\"==t.key||\"Up\"==t.key?s.length-1:0]),this.dropdown.highlightOption.call(this,i,!0);break;case\"Escape\":case\"Esc\":this.dropdown.hide.call(this);break;case\"ArrowRight\":if(this.state.actions.ArrowLeft)return;case\"Tab\":if(\"mix\"!=this.settings.mode&&i&&!this.settings.autoComplete.rightKey&&!this.state.editing){t.preventDefault();var a=i.getAttribute(\"tagifySuggestionIdx\"),n=a?this.suggestedListItems[+a]:\"\";return this.input.autocomplete.set.call(this,n.value||n),!1}return!0;case\"Enter\":t.preventDefault(),this.dropdown.selectOption.call(this,e);break;case\"Backspace\":if(\"mix\"==this.settings.mode||this.state.editing.scope)return;var o=this.input.value.trim();\"\"!=o&&8203!=o.charCodeAt(0)||(!0===this.settings.backspace?this.removeTags():\"edit\"==this.settings.backspace&&setTimeout(this.editTag.bind(this),0))}},onMouseOver:function(t){var e=t.target.closest(\".\"+this.settings.classNames.dropdownItem);e&&this.dropdown.highlightOption.call(this,e)},onMouseLeave:function(t){this.dropdown.highlightOption.call(this)},onClick:function(t){var e=this;if(0==t.button&&t.target!=this.DOM.dropdown){var i=t.target.closest(\".\"+this.settings.classNames.dropdownItem);this.state.actions.selectOption=!0,setTimeout((function(){return e.state.actions.selectOption=!1}),50),this.settings.hooks.suggestionClick(t,{tagify:this,suggestionElm:i}).then((function(){i&&e.dropdown.selectOption.call(e,i)})).catch((function(t){return t}))}},onScroll:function(t){var e=t.target,i=e.scrollTop/(e.scrollHeight-e.parentNode.clientHeight)*100;this.trigger(\"dropdown:scroll\",{percentage:Math.round(i)})}}},highlightOption:function(t,e){var i,s=this.settings.classNames.dropdownItemActive;if(this.state.ddItemElm&&(this.state.ddItemElm.classList.remove(s),this.state.ddItemElm.removeAttribute(\"aria-selected\")),!t)return this.state.ddItemData=null,this.state.ddItemElm=null,void this.input.autocomplete.suggest.call(this);i=this.suggestedListItems[this.getNodeIndex(t)],this.state.ddItemData=i,this.state.ddItemElm=t,t.classList.add(s),t.setAttribute(\"aria-selected\",!0),e&&(t.parentNode.scrollTop=t.clientHeight+t.offsetTop-t.parentNode.clientHeight),this.settings.autoComplete&&(this.input.autocomplete.suggest.call(this,i),\"manual\"!=this.settings.dropdown.position&&this.dropdown.position.call(this))},selectOption:function(t){var e=this,i=this.settings.dropdown,a=i.clearOnSelect,n=i.closeOnSelect;if(!t)return this.addTags(this.input.value,!0),void(n&&this.dropdown.hide.call(this));var o=t.getAttribute(\"tagifySuggestionIdx\"),r=(o?this.suggestedListItems[+o]:\"\")||this.input.value;if(this.trigger(\"dropdown:select\",{data:r,elm:t}),this.state.editing?this.onEditTagDone(this.state.editing.scope,s(s(s({},this.state.editing.scope.__tagifyTagData),{},{value:r.value},r instanceof Object?r:{}),{},{__isValid:!0})):this.addTags([r],a),setTimeout((function(){e.DOM.input.focus(),e.toggleFocusClass(!0)})),n)return this.dropdown.hide.call(this);this.dropdown.refilter.call(this)},selectAll:function(){var t=this.settings.skipInvalid;return this.settings.skipInvalid=!0,this.addTags(this.settings.whitelist,!0),this.settings.skipInvalid=t,this.dropdown.hide.call(this),this},filterListItems:function(t){var e,i,s,a,n,r=this,l=this.settings,d=l.dropdown,h=[],g=l.whitelist,u=d.maxItems||1/0,p=d.searchKeys,f=0;if(!t||!p.length)return(l.duplicates?g:g.filter((function(t){return!r.isTagDuplicate(o(t)?t.value:t)}))).slice(0,u);function m(t,e){return e.toLowerCase().split(\" \").every((function(e){return t.includes(e.toLowerCase())}))}for(n=d.caseSensitive?\"\"+t:(\"\"+t).toLowerCase();f<g.length&&(e=g[f]instanceof Object?g[f]:{value:g[f]},d.fuzzySearch?(s=p.reduce((function(t,i){return t+\" \"+(e[i]||\"\")}),\"\").toLowerCase(),i=m(d.accentedSearch?c(s):s,n)):i=p.some((function(t){var i=\"\"+(e[t]||\"\");return d.accentedSearch&&(i=c(i),n=c(n)),d.caseSensitive||(i=i.toLowerCase()),0==i.indexOf(n)})),a=!l.duplicates&&this.isTagDuplicate(o(e)?e.value:e),i&&!a&&u--&&h.push(e),0!=u);f++);return h},createListHTML:function(t){var e=this;return t.map((function(t,i){\"string\"!=typeof t&&\"number\"!=typeof t||(t={value:t});var s=e.settings.dropdown.mapValueTo,a=s?\"function\"==typeof s?s(t):t[s]:t.value,n=d({},t,{value:a&&\"string\"==typeof a?l(a):a,tagifySuggestionIdx:i});return e.settings.templates.dropdownItem.call(e,n)})).join(\"\")}},g={delimiters:\",\",pattern:null,maxTags:1/0,callbacks:{},addTagOnBlur:!0,duplicates:!1,whitelist:[],blacklist:[],enforceWhitelist:!1,keepInvalidTags:!1,mixTagsAllowedAfter:/,|\\.|\\:|\\s/,mixTagsInterpolator:[\"[[\",\"]]\"],backspace:!0,skipInvalid:!1,editTags:2,transformTag:function(){},trim:!0,mixMode:{insertAfterTag:\" \"},autoComplete:{enabled:!0,rightKey:!1},classNames:{namespace:\"tagify\",input:\"tagify__input\",focus:\"tagify--focus\",tag:\"tagify__tag\",tagNoAnimation:\"tagify--noAnim\",tagInvalid:\"tagify--invalid\",tagNotAllowed:\"tagify--notAllowed\",inputInvalid:\"tagify__input--invalid\",tagX:\"tagify__tag__removeBtn\",tagText:\"tagify__tag-text\",dropdown:\"tagify__dropdown\",dropdownWrapper:\"tagify__dropdown__wrapper\",dropdownItem:\"tagify__dropdown__item\",dropdownItemActive:\"tagify__dropdown__item--active\",dropdownInital:\"tagify__dropdown--initial\",scopeLoading:\"tagify--loading\",tagLoading:\"tagify__tag--loading\",tagEditing:\"tagify__tag--editable\",tagFlash:\"tagify__tag--flash\",tagHide:\"tagify__tag--hide\",hasMaxTags:\"tagify--hasMaxTags\",hasNoTags:\"tagify--noTags\",empty:\"tagify--empty\"},dropdown:{classname:\"\",enabled:2,maxItems:10,searchKeys:[\"value\",\"searchBy\"],fuzzySearch:!0,caseSensitive:!1,accentedSearch:!0,highlightFirst:!1,closeOnSelect:!0,clearOnSelect:!0,position:\"all\",appendTarget:null},hooks:{beforeRemoveTag:function(){return Promise.resolve()},suggestionClick:function(){return Promise.resolve()}}};var u={customBinding:function(){var t=this;this.customEventsList.forEach((function(e){t.on(e,t.settings.callbacks[e])}))},binding:function(){var t,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=this.events.callbacks,s=e?\"addEventListener\":\"removeEventListener\";if(!this.state.mainEvents||!e)for(var a in this.state.mainEvents=e,e&&!this.listeners.main&&(this.DOM.input.addEventListener(this.isIE?\"keydown\":\"input\",i[this.isIE?\"onInputIE\":\"onInput\"].bind(this)),this.settings.isJQueryPlugin&&jQuery(this.DOM.originalInput).on(\"tagify.removeAllTags\",this.removeAllTags.bind(this))),t=this.listeners.main=this.listeners.main||{focus:[\"input\",i.onFocusBlur.bind(this)],blur:[\"input\",i.onFocusBlur.bind(this)],keydown:[\"input\",i.onKeydown.bind(this)],click:[\"scope\",i.onClickScope.bind(this)],dblclick:[\"scope\",i.onDoubleClickScope.bind(this)],paste:[\"input\",i.onPaste.bind(this)]})(\"blur\"!=a||e)&&this.DOM[t[a][0]][s](a,t[a][1])},callbacks:{onFocusBlur:function(t){var e=t.target?this.trim(t.target.textContent):\"\",i=this.settings,s=t.type,a=i.dropdown.enabled>=0,n={relatedTarget:t.relatedTarget},o=this.state.actions.selectOption&&(a||!i.dropdown.closeOnSelect),r=this.state.actions.addNew&&a,l=window.getSelection();if(\"blur\"==s){if(t.relatedTarget===this.DOM.scope)return this.dropdown.hide.call(this),void this.DOM.input.focus();this.postUpdate(),this.triggerChangeEvent()}if(!o&&!r)if(this.state.hasFocus=\"focus\"==s&&+new Date,this.toggleFocusClass(this.state.hasFocus),\"mix\"!=i.mode){if(\"focus\"==s)return this.trigger(\"focus\",n),void(0===i.dropdown.enabled&&this.dropdown.show.call(this));\"blur\"==s&&(this.trigger(\"blur\",n),this.loading(!1),(\"select\"==this.settings.mode?!this.value.length||this.value[0].value!=e:e&&!this.state.actions.selectOption&&i.addTagOnBlur)&&this.addTags(e,!0)),this.DOM.input.removeAttribute(\"style\"),this.dropdown.hide.call(this)}else\"focus\"==s?this.trigger(\"focus\",n):\"blur\"==t.type&&(this.trigger(\"blur\",n),this.loading(!1),this.dropdown.hide.call(this),this.state.dropdown.visible=void 0,this.state.selection={anchorOffset:l.anchorOffset,anchorNode:l.anchorNode},l.getRangeAt&&l.rangeCount&&(this.state.selection.range=l.getRangeAt(0)))},onKeydown:function(t){var e=this,i=this.trim(t.target.textContent);if(this.trigger(\"keydown\",{originalEvent:this.cloneEvent(t)}),\"mix\"==this.settings.mode){switch(t.key){case\"Left\":case\"ArrowLeft\":this.state.actions.ArrowLeft=!0;break;case\"Delete\":case\"Backspace\":if(this.state.editing)return;var s=document.getSelection(),a=\"Delete\"==t.key&&s.anchorOffset==s.anchorNode.length,n=1==s.anchorNode.nodeType||!s.anchorOffset&&s.anchorNode.previousElementSibling,o=r(this.DOM.input.innerHTML),l=this.getTagElms();if(3==s.anchorNode.nodeType&&!s.anchorNode.nodeValue&&s.anchorNode.previousElementSibling&&t.preventDefault(),(n||a)&&!this.settings.backspace)return void t.preventDefault();setTimeout((function(){if(r(e.DOM.input.innerHTML).length>=o.length&&(e.removeTags(s.anchorNode.previousElementSibling),e.fixFirefoxLastTagNoCaret(),2==e.DOM.input.children.length&&\"BR\"==e.DOM.input.children[1].tagName))return e.DOM.input.innerHTML=\"\",e.value.length=0,!0;e.value=[].map.call(l,(function(t,i){var s=t.__tagifyTagData;if(t.parentNode)return s;e.trigger(\"remove\",{tag:t,index:i,data:s})})).filter((function(t){return t}))}),50)}return!0}switch(t.key){case\"Backspace\":this.state.dropdown.visible&&\"manual\"!=this.settings.dropdown.position||\"\"!=i&&8203!=i.charCodeAt(0)||(!0===this.settings.backspace?this.removeTags():\"edit\"==this.settings.backspace&&setTimeout(this.editTag.bind(this),0));break;case\"Esc\":case\"Escape\":if(this.state.dropdown.visible)return;t.target.blur();break;case\"Down\":case\"ArrowDown\":this.state.dropdown.visible||this.dropdown.show.call(this);break;case\"ArrowRight\":var d=this.state.inputSuggestion||this.state.ddItemData;if(d&&this.settings.autoComplete.rightKey)return void this.addTags([d],!0);break;case\"Tab\":if(i&&t.preventDefault(),!i||\"select\"==this.settings.mode)return!0;case\"Enter\":if(this.state.dropdown.visible||229==t.keyCode)return;t.preventDefault(),setTimeout((function(){e.state.actions.selectOption||e.addTags(i,!0)}))}},onInput:function(t){if(\"mix\"==this.settings.mode)return this.events.callbacks.onMixTagsInput.call(this,t);var e=this.input.normalize.call(this),i=e.length>=this.settings.dropdown.enabled,s={value:e,inputElm:this.DOM.input};s.isValid=this.validateTag({value:e}),this.trigger(\"input\",s),this.input.value!=e&&(this.input.set.call(this,e,!1),-1!=e.search(this.settings.delimiters)?this.addTags(e)&&this.input.set.call(this):this.settings.dropdown.enabled>=0&&this.dropdown[i?\"show\":\"hide\"].call(this,e))},onMixTagsInput:function(t){var e,i,s,a,n,o,r,l,c,h=this,g=this.settings,u=this.value.length;if(this.getTagElms().length>u)return this.value=[].map.call(this.getTagElms(),(function(t){return t.__tagifyTagData})),void this.update({withoutChangeEvent:!0});if(this.hasMaxTags())return!0;if(window.getSelection&&(r=window.getSelection()).rangeCount>0&&3==r.anchorNode.nodeType){if((e=r.getRangeAt(0).cloneRange()).collapse(!0),e.setStart(r.focusNode,0),a=(i=e.toString().slice(0,e.endOffset)).split(g.pattern).length-1,(s=i.match(g.pattern))&&(n=i.slice(i.lastIndexOf(s[s.length-1]))),n){if(this.state.actions.ArrowLeft=!1,this.state.tag={prefix:n.match(g.pattern)[0],value:n.replace(g.pattern,\"\")},this.state.tag.baseOffset=r.baseOffset-this.state.tag.value.length,c=this.state.tag.value.match(g.delimiters))return this.state.tag.value=this.state.tag.value.replace(g.delimiters,\"\"),this.state.tag.delimiters=c[0],this.addTags(this.state.tag.value,g.dropdown.clearOnSelect),void this.dropdown.hide.call(this);o=this.state.tag.value.length>=g.dropdown.enabled;try{l=(l=this.state.flaggedTags[this.state.tag.baseOffset]).prefix==this.state.tag.prefix&&l.value[0]==this.state.tag.value[0],this.state.flaggedTags[this.state.tag.baseOffset]&&!this.state.tag.value&&delete this.state.flaggedTags[this.state.tag.baseOffset]}catch(t){}(l||a<this.state.mixMode.matchedPatternCount)&&(o=!1)}else this.state.flaggedTags={};this.state.mixMode.matchedPatternCount=a}setTimeout((function(){h.update({withoutChangeEvent:!0}),h.trigger(\"input\",d({},h.state.tag,{textContent:h.DOM.input.textContent})),h.state.tag&&h.dropdown[o?\"show\":\"hide\"].call(h,h.state.tag.value)}),10)},onInputIE:function(t){var e=this;setTimeout((function(){e.events.callbacks.onInput.call(e,t)}))},onClickScope:function(t){var e=t.target.closest(\".\"+this.settings.classNames.tag),i=this.settings,s=+new Date-this.state.hasFocus;if(t.target!=this.DOM.scope){if(!t.target.classList.contains(this.settings.classNames.tagX))return e?(this.trigger(\"click\",{tag:e,index:this.getNodeIndex(e),data:this.tagData(e),originalEvent:this.cloneEvent(t)}),void(1==this.settings.editTags&&this.events.callbacks.onDoubleClickScope.call(this,t))):void(t.target==this.DOM.input&&(\"mix\"==i.mode&&this.fixFirefoxLastTagNoCaret(),s>500)?this.state.dropdown.visible?this.dropdown.hide.call(this):0===i.dropdown.enabled&&\"mix\"!=i.mode&&this.dropdown.show.call(this):\"select\"==i.mode&&!this.state.dropdown.visible&&this.dropdown.show.call(this));this.removeTags(t.target.parentNode)}else this.state.hasFocus||this.DOM.input.focus()},onPaste:function(t){var e;t.preventDefault(),e=(t.clipboardData||window.clipboardData).getData(\"Text\"),\"mix\"==this.settings.mode?this.injectAtCaret(e,window.getSelection().getRangeAt(0)):this.addTags(e)},onEditTagInput:function(t,e){var i=t.closest(\".\"+this.settings.classNames.tag),s=this.getNodeIndex(i),a=this.tagData(i),n=this.input.normalize.call(this,t),o=n!=a.__originalData.value,r=this.validateTag({value:n});o||!0!==t.originalIsValid||(r=!0),i.classList.toggle(this.settings.classNames.tagInvalid,!0!==r),a.__isValid=r,i.title=!0===r?a.title||a.value:r,n.length>=this.settings.dropdown.enabled&&(this.state.editing.value=n,this.dropdown.show.call(this,n)),this.trigger(\"edit:input\",{tag:i,index:s,data:d({},this.value[s],{newValue:n}),originalEvent:this.cloneEvent(e)})},onEditTagFocus:function(t){this.state.editing={scope:t,input:t.querySelector(\"[contenteditable]\")}},onEditTagBlur:function(t){if(this.state.hasFocus||this.toggleFocusClass(),this.DOM.scope.contains(t)){var e=t.closest(\".\"+this.settings.classNames.tag),i=this.input.normalize.call(this,t),s=i,a=d({},this.tagData(e),{value:s}),n=s!=a.__originalData.value,o=this.validateTag(a);if(!i)return this.removeTags(e),void this.onEditTagDone(null,a);n?(this.settings.transformTag.call(this,a),!0===(o=this.validateTag(a))?(a=this.getWhitelistItemByValue(s)||a.__preInvalidData||{},a=Object.assign({},a,{value:s}),this.settings.transformTag.call(this,a),this.onEditTagDone(e,a)):this.trigger(\"invalid\",{data:a,tag:e,message:o})):this.onEditTagDone(e,a.__originalData)}},onEditTagkeydown:function(t,e){switch(this.trigger(\"edit:keydown\",{originalEvent:this.cloneEvent(t)}),t.key){case\"Esc\":case\"Escape\":t.target.textContent=e.__tagifyTagData.__originalData.value;case\"Enter\":case\"Tab\":t.preventDefault(),t.target.blur()}},onDoubleClickScope:function(t){var e,i,s=t.target.closest(\".\"+this.settings.classNames.tag),a=this.settings;s&&(e=s.classList.contains(this.settings.classNames.tagEditing),i=s.hasAttribute(\"readonly\"),\"select\"==a.mode||a.readonly||e||i||!this.settings.editTags||this.editTag(s),this.toggleFocusClass(!0),this.trigger(\"dblclick\",{tag:s,index:this.getNodeIndex(s),data:this.tagData(s)}))}}};function p(t,e){return t.previousElementSibling&&t.previousElementSibling.classList.contains(\"tagify\")?(console.warn(\"Tagify: \",\"input element is already Tagified\",t),this):t?(this.isFirefox=\"undefined\"!=typeof InstallTrigger,this.isIE=window.document.documentMode,this.applySettings(t,e||{}),this.state={editing:!1,actions:{},mixMode:{},dropdown:{},flaggedTags:{}},this.value=[],this.listeners={},this.DOM={},d(this,new this.EventDispatcher(this)),this.build(t),this.getCSSVars(),this.loadOriginalValues(),this.events.customBinding.call(this),this.events.binding.call(this),void(t.autofocus&&this.DOM.input.focus())):(console.warn(\"Tagify: \",\"invalid input element \",t),this)}return p.prototype={dropdown:h,TEXTS:{empty:\"empty\",exceed:\"number of tags exceeded\",pattern:\"pattern mismatch\",duplicate:\"already exists\",notAllowed:\"not allowed\"},DEFAULTS:g,customEventsList:[\"change\",\"add\",\"remove\",\"invalid\",\"input\",\"click\",\"keydown\",\"focus\",\"blur\",\"edit:input\",\"edit:updated\",\"edit:start\",\"edit:keydown\",\"dropdown:show\",\"dropdown:hide\",\"dropdown:select\",\"dropdown:updated\",\"dropdown:noMatch\"],trim:function(t){return this.settings.trim?t.trim():t},parseHTML:function(t){return(new DOMParser).parseFromString(t.trim(),\"text/html\").body.firstElementChild},templates:{wrapper:function(t,e){return'<tags class=\"'.concat(e.classNames.namespace,\" \").concat(e.mode?\"\".concat(e.classNames.namespace,\"--\").concat(e.mode):\"\",\" \").concat(t.className,'\"\\n                    ').concat(e.readonly?\"readonly\":\"\",\"\\n                    \").concat(e.required?\"required\":\"\",'\\n                    tabIndex=\"-1\">\\n            <span ').concat(e.readonly&&\"mix\"==e.mode?\"\":\"contenteditable\",' data-placeholder=\"').concat(e.placeholder||\"&#8203;\",'\" aria-placeholder=\"').concat(e.placeholder||\"\",'\"\\n                class=\"').concat(e.classNames.input,'\"\\n                role=\"textbox\"\\n                aria-autocomplete=\"both\"\\n                aria-multiline=\"').concat(\"mix\"==e.mode,'\"></span>\\n        </tags>')},tag:function(t){return'<tag title=\"'.concat(t.title||t.value,\"\\\"\\n                    contenteditable='false'\\n                    spellcheck='false'\\n                    tabIndex=\\\"-1\\\"\\n                    class=\\\"\").concat(this.settings.classNames.tag,\" \").concat(t.class?t.class:\"\",'\"\\n                    ').concat(this.getAttributes(t),\">\\n            <x title='' class=\\\"\").concat(this.settings.classNames.tagX,\"\\\" role='button' aria-label='remove tag'></x>\\n            <div>\\n                <span class=\\\"\").concat(this.settings.classNames.tagText,'\">').concat(t.value,\"</span>\\n            </div>\\n        </tag>\")},dropdown:function(t){var e=t.dropdown,i=\"manual\"==e.position,s=\"\".concat(t.classNames.dropdown);return'<div class=\"'.concat(i?\"\":s,\" \").concat(e.classname,'\" role=\"listbox\" aria-labelledby=\"dropdown\">\\n                    <div class=\"').concat(t.classNames.dropdownWrapper,'\"></div>\\n                </div>')},dropdownItem:function(t){return\"<div \".concat(this.getAttributes(t),\"\\n                    class='\").concat(this.settings.classNames.dropdownItem,\" \").concat(t.class?t.class:\"\",'\\'\\n                    tabindex=\"0\"\\n                    role=\"option\">').concat(t.value,\"</div>\")},dropdownItemNoMatch:null},parseTemplate:function(t,e){return t=this.settings.templates[t]||t,this.parseHTML(t.apply(this,e))},applySettings:function(t,e){this.DEFAULTS.templates=this.templates;var i=this.settings=d({},this.DEFAULTS,e);if(i.readonly=t.hasAttribute(\"readonly\"),i.placeholder=t.getAttribute(\"placeholder\")||i.placeholder||\"\",i.required=t.hasAttribute(\"required\"),this.isIE&&(i.autoComplete=!1),[\"whitelist\",\"blacklist\"].forEach((function(e){var s=t.getAttribute(\"data-\"+e);s&&(s=s.split(i.delimiters))instanceof Array&&(i[e]=s)})),\"autoComplete\"in e&&!o(e.autoComplete)&&(i.autoComplete=this.DEFAULTS.autoComplete,i.autoComplete.enabled=e.autoComplete),\"mix\"==i.mode&&(i.autoComplete.rightKey=!0,i.delimiters=e.delimiters||null),t.pattern)try{i.pattern=new RegExp(t.pattern)}catch(t){}if(this.settings.delimiters)try{i.delimiters=new RegExp(this.settings.delimiters,\"g\")}catch(t){}\"select\"==i.mode&&(i.dropdown.enabled=0),i.dropdown.appendTarget=e.dropdown&&e.dropdown.appendTarget?e.dropdown.appendTarget:document.body},getAttributes:function(t){if(\"[object Object]\"!=Object.prototype.toString.call(t))return\"\";var e,i,s=Object.keys(t),a=\"\";for(i=s.length;i--;)\"class\"!=(e=s[i])&&t.hasOwnProperty(e)&&void 0!==t[e]&&(a+=\" \"+e+(void 0!==t[e]?'=\"'.concat(t[e],'\"'):\"\"));return a},getCaretGlobalPosition:function(){var t=document.getSelection();if(t.rangeCount){var e,i,s=t.getRangeAt(0),a=s.startContainer,n=s.startOffset;if(n>0)return(i=document.createRange()).setStart(a,n-1),i.setEnd(a,n),{left:(e=i.getBoundingClientRect()).right,top:e.top,bottom:e.bottom};if(a.getBoundingClientRect)return a.getBoundingClientRect()}return{left:-9999,top:-9999}},getCSSVars:function(){var t,e=getComputedStyle(this.DOM.scope,null);this.CSSVars={tagHideTransition:function(t){var e=t.value;return\"s\"==t.unit?1e3*e:e}(function(t){if(!t)return{};var e=(t=t.trim().split(\" \")[0]).split(/\\d+/g).filter((function(t){return t})).pop().trim();return{value:+t.split(e).filter((function(t){return t}))[0].trim(),unit:e}}((t=\"tag-hide-transition\",e.getPropertyValue(\"--\"+t))))}},build:function(t){var e=this.DOM;e.originalInput=t,e.scope=this.parseTemplate(\"wrapper\",[t,this.settings]),e.input=e.scope.querySelector(\".\"+this.settings.classNames.input),t.parentNode.insertBefore(e.scope,t),this.settings.dropdown.enabled>=0&&this.dropdown.init.call(this)},destroy:function(){this.DOM.scope.parentNode.removeChild(this.DOM.scope),this.dropdown.hide.call(this,!0),clearTimeout(this.dropdownHide__bindEventsTimeout)},loadOriginalValues:function(t){var e=this;if(t=t||this.DOM.originalInput.value)if(this.removeAllTags(),\"mix\"==this.settings.mode)this.parseMixTags(t.trim());else{try{JSON.parse(t)instanceof Array&&(t=JSON.parse(t))}catch(t){}this.addTags(t).forEach((function(t){return t&&t.classList.add(e.settings.classNames.tagNoAnimation)}))}else this.postUpdate();this.state.lastOriginalValueReported=this.DOM.originalInput.value,this.state.loadedOriginalValues=!0},cloneEvent:function(t){var e={};for(var i in t)e[i]=t[i];return e},EventDispatcher:function(e){var i=document.createTextNode(\"\");function s(t,e,s){s&&e.split(/\\s+/g).forEach((function(e){return i[t+\"EventListener\"].call(i,e,s)}))}this.off=function(t,e){return s(\"remove\",t,e),this},this.on=function(t,e){return e&&\"function\"==typeof e&&s(\"add\",t,e),this},this.trigger=function(s,a){var n;if(s)if(e.settings.isJQueryPlugin)\"remove\"==s&&(s=\"removeTag\"),jQuery(e.DOM.originalInput).triggerHandler(s,[a]);else{try{var o=d({},\"object\"===t(a)?a:{value:a});if(o.tagify=this,a instanceof Object)for(var r in a)a[r]instanceof HTMLElement&&(o[r]=a[r]);n=new CustomEvent(s,{detail:o})}catch(t){console.warn(t)}i.dispatchEvent(n)}}},loading:function(t){return this.state.isLoading=t,this.DOM.scope.classList[t?\"add\":\"remove\"](this.settings.classNames.scopeLoading),this},tagLoading:function(t,e){return t&&t.classList[e?\"add\":\"remove\"](this.settings.classNames.tagLoading),this},toggleFocusClass:function(t){this.DOM.scope.classList.toggle(this.settings.classNames.focus,!!t)},triggerChangeEvent:function(){var t=this.DOM.originalInput,e=this.state.lastOriginalValueReported!==t.value,i=new CustomEvent(\"change\",{bubbles:!0});e&&(this.state.lastOriginalValueReported=t.value,i.simulated=!0,t._valueTracker&&t._valueTracker.setValue(Math.random()),t.dispatchEvent(i),this.trigger(\"change\",this.state.lastOriginalValueReported),t.value=this.state.lastOriginalValueReported)},events:u,fixFirefoxLastTagNoCaret:function(){var t=this.DOM.input;if(this.isFirefox&&t.childNodes.length&&1==t.lastChild.nodeType)return t.appendChild(document.createTextNode(\"​\")),this.setRangeAtStartEnd(!0),!0},placeCaretAfterTag:function(t){var e=t.nextSibling,i=window.getSelection(),s=i.getRangeAt(0);i.rangeCount&&(s.setStartAfter(e||t),s.setEndAfter(e||t),i.removeAllRanges(),i.addRange(s))},insertAfterTag:function(t,e){e=e||this.settings.mixMode.insertAfterTag,t&&e&&(e=\"string\"==typeof e?document.createTextNode(e):e,t.appendChild(e),t.parentNode.insertBefore(e,t.nextSibling))},editTag:function(t,e){var i=this;t=t||this.getLastTag(),e=e||{},this.dropdown.hide.call(this);var s=t.querySelector(\".\"+this.settings.classNames.tagText),a=this.getNodeIndex(t),n=t.__tagifyTagData,o=this.events.callbacks,r=this,l=!0;if(s){if(!(n instanceof Object&&\"editable\"in n)||n.editable)return t.__tagifyTagData.__originalData=d({},n),t.classList.add(this.settings.classNames.tagEditing),s.setAttribute(\"contenteditable\",!0),s.addEventListener(\"focus\",o.onEditTagFocus.bind(this,t)),s.addEventListener(\"blur\",(function(){setTimeout(o.onEditTagBlur.bind(r),0,s)})),s.addEventListener(\"input\",o.onEditTagInput.bind(this,s)),s.addEventListener(\"keydown\",(function(e){return o.onEditTagkeydown.call(i,e,t)})),s.focus(),this.setRangeAtStartEnd(!1,s),e.skipValidation||(l=this.editTagToggleValidity(t,n.value)),s.originalIsValid=l,this.trigger(\"edit:start\",{tag:t,index:a,data:n,isValid:l}),this}else console.warn(\"Cannot find element in Tag template: .\",this.settings.classNames.tagText)},editTagToggleValidity:function(t,e){var i,s=t.__tagifyTagData;if(s)return i=!(!s.__isValid||1==s.__isValid),t.classList.toggle(this.settings.classNames.tagInvalid,i),s.__isValid;console.warn(\"tag has no data: \",t,s)},onEditTagDone:function(t,e){this.state.editing=!1,e=e||{};var i={tag:t,index:this.getNodeIndex(t),data:e};this.trigger(\"edit:beforeUpdate\",i),delete e.__originalData,t&&(this.editTagToggleValidity(t),this.replaceTag(t,e)),this.trigger(\"edit:updated\",i),this.dropdown.hide.call(this),this.settings.keepInvalidTags&&this.reCheckInvalidTags()},replaceTag:function(t,e){e&&e.value||(e=t.__tagifyTagData),e.__isValid&&1!=e.__isValid&&d(e,this.getInvalidTagParams(e,e.__isValid));var i=this.createTagElem(e);t.parentNode.replaceChild(i,t),this.updateValueByDOMTags()},updateValueByDOMTags:function(){var t=this;this.value.length=0,[].forEach.call(this.getTagElms(),(function(e){e.classList.contains(t.settings.classNames.tagNotAllowed)||t.value.push(t.tagData(e))})),this.update()},setRangeAtStartEnd:function(t,e){t=\"number\"==typeof t?t:!!t,e=(e=e||this.DOM.input).lastChild||e;var i=document.getSelection();try{i.rangeCount>=1&&[\"Start\",\"End\"].forEach((function(s){return i.getRangeAt(0)[\"set\"+s](e,t||e.length)}))}catch(t){console.warn(\"Tagify: \",t)}},injectAtCaret:function(t,e){if(e=e||this.state.selection.range)return\"string\"==typeof t&&(t=document.createTextNode(t)),e.deleteContents(),e.insertNode(t),this.setRangeAtStartEnd(!1,t),this.updateValueByDOMTags(),this.update(),this},input:{value:\"\",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.settings.dropdown.closeOnSelect;this.input.value=t,e&&(this.DOM.input.innerHTML=t),!t&&i&&this.dropdown.hide.bind(this),this.input.autocomplete.suggest.call(this),this.input.validate.call(this)},validate:function(){var t=!this.input.value||!0===this.validateTag({value:this.input.value});return this.DOM.input.classList.toggle(this.settings.classNames.inputInvalid,!t),t},normalize:function(t){var e=t||this.DOM.input,i=[];e.childNodes.forEach((function(t){return 3==t.nodeType&&i.push(t.nodeValue)})),i=i.join(\"\\n\");try{i=i.replace(/(?:\\r\\n|\\r|\\n)/g,this.settings.delimiters.source.charAt(0))}catch(t){}return i=i.replace(/\\s/g,\" \"),this.settings.trim&&(i=i.replace(/^\\s+/,\"\")),i},autocomplete:{suggest:function(t){if(this.settings.autoComplete.enabled){\"string\"==typeof(t=t||{})&&(t={value:t});var e=t.value?\"\"+t.value:\"\",i=e.substr(0,this.input.value.length).toLowerCase(),s=e.substring(this.input.value.length);e&&this.input.value&&i==this.input.value.toLowerCase()?(this.DOM.input.setAttribute(\"data-suggest\",s),this.state.inputSuggestion=t):(this.DOM.input.removeAttribute(\"data-suggest\"),delete this.state.inputSuggestion)}},set:function(t){var e=this.DOM.input.getAttribute(\"data-suggest\"),i=t||(e?this.input.value+e:null);return!!i&&(\"mix\"==this.settings.mode?this.replaceTextWithNode(document.createTextNode(this.state.tag.prefix+i)):(this.input.set.call(this,i),this.setRangeAtStartEnd()),this.input.autocomplete.suggest.call(this),this.dropdown.hide.call(this),!0)}}},getTagIdx:function(t){return this.value.findIndex((function(e){return JSON.stringify(e)==JSON.stringify(t)}))},getNodeIndex:function(t){var e=0;if(t)for(;t=t.previousElementSibling;)e++;return e},getTagElms:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var s=[\".\"+this.settings.classNames.tag].concat(e).join(\".\");return this.DOM.scope.querySelectorAll(s)},getLastTag:function(){var t=this.DOM.scope.querySelectorAll(\".\".concat(this.settings.classNames.tag,\":not(.\").concat(this.settings.classNames.tagHide,\"):not([readonly])\"));return t[t.length-1]},tagData:function(t,e){return t?(e&&(t.__tagifyTagData=d({},t.__tagifyTagData||{},e)),t.__tagifyTagData):(console.warn(\"tag elment doesn't exist\",t,e),e)},isTagDuplicate:function(t,e){var i=this,s=this.settings;return\"select\"!=s.mode&&this.value.reduce((function(a,o){return n(i.trim(\"\"+t),o.value,e||s.dropdown.caseSensitive)?a+1:a}),0)},getTagIndexByValue:function(t){var e=this,i=[];return this.getTagElms().forEach((function(s,a){n(e.trim(s.textContent),t,e.settings.dropdown.caseSensitive)&&i.push(a)})),i},getTagElmByValue:function(t){var e=this.getTagIndexByValue(t)[0];return this.getTagElms()[e]},flashTag:function(t){var e=this;t&&(t.classList.add(this.settings.classNames.tagFlash),setTimeout((function(){t.classList.remove(e.settings.classNames.tagFlash)}),100))},isTagBlacklisted:function(t){return t=this.trim(t.toLowerCase()),this.settings.blacklist.filter((function(e){return(\"\"+e).toLowerCase()==t})).length},isTagWhitelisted:function(t){var e=this;return this.settings.whitelist.some((function(i){return\"string\"==typeof t?n(e.trim(t),i.value||i):n(JSON.stringify(i),JSON.stringify(t))}))},validateTag:function(t){var e=this.trim(t.value),i=this.settings;return t.value.trim()?i.pattern&&i.pattern instanceof RegExp&&!i.pattern.test(e)?this.TEXTS.pattern:!i.duplicates&&this.isTagDuplicate(e,this.state.editing)?this.TEXTS.duplicate:!(this.isTagBlacklisted(e)||i.enforceWhitelist&&!this.isTagWhitelisted(e))||this.TEXTS.notAllowed:this.TEXTS.empty},getInvalidTagParams:function(t,e){return{\"aria-invalid\":!0,class:\"\".concat(t.class||\"\",\" \").concat(this.settings.classNames.tagNotAllowed).trim(),title:e}},hasMaxTags:function(){return this.value.length>=this.settings.maxTags&&this.TEXTS.exceed},normalizeTags:function(t){var e=this,i=this.settings,n=i.whitelist,o=i.delimiters,r=i.mode,l=!!n&&n[0]instanceof Object,d=t instanceof Array,c=[],h=function(t){return(t+\"\").split(o).filter((function(t){return t})).map((function(t){return{value:e.trim(t)}}))};if(\"number\"==typeof t&&(t=t.toString()),\"string\"==typeof t){if(!t.trim())return[];t=h(t)}else if(d){var g;t=(g=[]).concat.apply(g,a(t.map((function(t){return t.value?h(t.value).map((function(e){return s(s({},t),e)})):h(t)}))))}return l&&(t.forEach((function(t){var i=e.getWhitelistItemByValue(t.value);i&&i instanceof Object?c.push(i):\"mix\"!=r&&c.push(t)})),c.length&&(t=c)),t},getWhitelistItemByValue:function(t){var e,i=this.settings;return i.whitelist.some((function(s){if(n(\"string\"==typeof s?s:s.value,t,i.dropdown.caseSensitive))return e=\"string\"==typeof s?{value:s}:s,!0})),e},parseMixTags:function(t){var e=this,i=this.settings,s=i.mixTagsInterpolator,a=i.duplicates,n=i.transformTag,o=i.enforceWhitelist,r=[];return t=t.split(s[0]).map((function(t,i){var l,d,c=t.split(s[1]),h=c[0];try{if(h==+h)throw Error;l=JSON.parse(h)}catch(t){l=e.normalizeTags(h)[0]}if(!(c.length>1)||o&&!e.isTagWhitelisted(l.value)||!a&&e.isTagDuplicate(l.value)){if(t)return i?s[0]+t:t}else n.call(e,l),d=e.createTagElem(l),r.push(l),d.classList.add(e.settings.classNames.tagNoAnimation),c[0]=d.outerHTML,e.value.push(l);return c.join(\"\")})).join(\"\"),this.DOM.input.innerHTML=t,this.DOM.input.appendChild(document.createTextNode(\"\")),this.DOM.input.normalize(),this.getTagElms().forEach((function(t,i){return e.tagData(t,r[i])})),this.update({withoutChangeEvent:!0}),t},replaceTextWithNode:function(t,e){if(this.state.tag||e){e=e||this.state.tag.prefix+this.state.tag.value;var i,s,a=window.getSelection(),n=a.anchorNode,o=this.state.tag.delimiters?this.state.tag.delimiters.length:0;return n.splitText(a.anchorOffset-o),i=n.nodeValue.lastIndexOf(e),s=n.splitText(i),t&&n.parentNode.replaceChild(t,s),!0}},selectTag:function(t,e){if(!this.settings.enforceWhitelist||this.isTagWhitelisted(e.value))return this.input.set.call(this,e.value,!0),this.state.actions.selectOption&&setTimeout(this.setRangeAtStartEnd.bind(this)),this.getLastTag()?this.replaceTag(this.getLastTag(),e):this.appendTag(t),this.value[0]=e,this.trigger(\"add\",{tag:t,data:e}),this.update(),[t]},addEmptyTag:function(){var t={value:\"\"},e=this.createTagElem(t);this.tagData(e,t),this.appendTag(e),this.editTag(e,{skipValidation:!0})},addTags:function(t,e){var i=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.settings.skipInvalid,a=[],n=this.settings;return t&&0!=t.length?(t=this.normalizeTags(t),\"mix\"==n.mode?this.addMixTags(t):(\"select\"==n.mode&&(e=!1),this.DOM.input.removeAttribute(\"style\"),t.forEach((function(t){var e,o={},r=Object.assign({},t,{value:t.value+\"\"});if((t=Object.assign({},r)).__isValid=i.hasMaxTags()||i.validateTag(t),n.transformTag.call(i,t),!0!==t.__isValid){if(s)return;d(o,i.getInvalidTagParams(t,t.__isValid),{__preInvalidData:r}),t.__isValid==i.TEXTS.duplicate&&i.flashTag(i.getTagElmByValue(t.value))}if(t.readonly&&(o[\"aria-readonly\"]=!0),e=i.createTagElem(d({},t,o)),a.push(e),\"select\"==n.mode)return i.selectTag(e,t);i.appendTag(e),t.__isValid&&!0===t.__isValid?(i.value.push(t),i.update(),i.trigger(\"add\",{tag:e,index:i.value.length-1,data:t})):(i.trigger(\"invalid\",{data:t,index:i.value.length,tag:e,message:t.__isValid}),n.keepInvalidTags||setTimeout((function(){return i.removeTags(e,!0)}),1e3)),i.dropdown.position.call(i)})),t.length&&e&&this.input.set.call(this),this.dropdown.refilter.call(this),a)):(\"select\"==n.mode&&this.removeAllTags(),a)},addMixTags:function(t){var e,i=this,s=this.settings,a=this.state.tag.delimiters;return s.transformTag.call(this,t[0]),t[0].prefix=t[0].prefix||this.state.tag?this.state.tag.prefix:(s.pattern.source||s.pattern)[0],e=this.createTagElem(t[0]),this.replaceTextWithNode(e)||this.DOM.input.appendChild(e),setTimeout((function(){return e.classList.add(i.settings.classNames.tagNoAnimation)}),300),this.value.push(t[0]),this.update(),!a&&setTimeout((function(){i.insertAfterTag(e),i.placeCaretAfterTag(e)}),this.isFirefox?100:0),this.state.tag=null,this.trigger(\"add\",d({},{tag:e},{data:t[0]})),e},appendTag:function(t){var e=this.DOM.scope.lastElementChild;e===this.DOM.input?this.DOM.scope.insertBefore(t,e):this.DOM.scope.appendChild(t)},createTagElem:function(t){var e,i=d({},t,{value:l(t.value+\"\")});return this.settings.readonly&&(t.readonly=!0),e=this.parseTemplate(\"tag\",[i]),this.tagData(e,t),e},reCheckInvalidTags:function(){var t=this,e=this.settings,i=\".\".concat(e.classNames.tag,\".\").concat(e.classNames.tagNotAllowed),s=this.DOM.scope.querySelectorAll(i);[].forEach.call(s,(function(e){var i=t.tagData(e),s=e.getAttribute(\"title\")==t.TEXTS.duplicate,a=!0===t.validateTag(i);s&&a&&(i=i.__preInvalidData?i.__preInvalidData:{value:i.value},t.replaceTag(e,i))}))},removeTags:function(t,e,i){var s,a=this;t=t&&t instanceof HTMLElement?[t]:t instanceof Array?t:t?[t]:[this.getLastTag()],s=t.reduce((function(t,e){return e&&\"string\"==typeof e&&(e=a.getTagElmByValue(e)),e&&t.push({node:e,idx:a.getTagIdx(a.tagData(e)),data:a.tagData(e,{__removed:!0})}),t}),[]),i=\"number\"==typeof i?i:this.CSSVars.tagHideTransition,\"select\"==this.settings.mode&&(i=0,this.input.set.call(this)),1==s.length&&s[0].node.classList.contains(this.settings.classNames.tagNotAllowed)&&(e=!0),s.length&&this.settings.hooks.beforeRemoveTag(s,{tagify:this}).then((function(){function t(t){t.node.parentNode&&(t.node.parentNode.removeChild(t.node),e?this.settings.keepInvalidTags&&this.trigger(\"remove\",{tag:t.node,index:t.idx}):(this.trigger(\"remove\",{tag:t.node,index:t.idx,data:t.data}),this.dropdown.refilter.call(this),this.dropdown.position.call(this),this.DOM.input.normalize(),this.settings.keepInvalidTags&&this.reCheckInvalidTags()))}i&&i>10&&1==s.length?function(e){e.node.style.width=parseFloat(window.getComputedStyle(e.node).width)+\"px\",document.body.clientTop,e.node.classList.add(this.settings.classNames.tagHide),setTimeout(t.bind(this),i,e)}.call(a,s[0]):s.forEach(t.bind(a)),e||(s.forEach((function(t){var e=Object.assign({},t.data);delete e.__removed;var i=a.getTagIdx(e);i>-1&&a.value.splice(i,1)})),a.update())})).catch((function(t){}))},removeAllTags:function(){this.value=[],\"mix\"==this.settings.mode?this.DOM.input.innerHTML=\"\":Array.prototype.slice.call(this.getTagElms()).forEach((function(t){return t.parentNode.removeChild(t)})),this.dropdown.position.call(this),\"select\"==this.settings.mode&&this.input.set.call(this),this.update()},postUpdate:function(){var t=this.settings.classNames,e=\"mix\"==this.settings.mode?this.DOM.originalInput.value:this.value.length;this.DOM.scope.classList.toggle(t.hasMaxTags,this.value.length>=this.settings.maxTags),this.DOM.scope.classList.toggle(t.hasNoTags,!this.value.length),this.DOM.scope.classList.toggle(t.empty,!e)},update:function(t){var e,i,s=this.DOM.originalInput,a=(t||{}).withoutChangeEvent,n=(e=this.value,i=[\"__isValid\",\"__removed\"],e.map((function(t){var e={};for(var s in t)i.indexOf(s)<0&&(e[s]=t[s]);return e})));s.value=\"mix\"==this.settings.mode?this.getMixedTagsAsString(n):n.length?this.settings.originalInputValueFormat?this.settings.originalInputValueFormat(n):JSON.stringify(n):\"\",this.postUpdate(),!a&&this.state.loadedOriginalValues&&this.triggerChangeEvent()},getMixedTagsAsString:function(){var t=\"\",e=this,i=this.settings.mixTagsInterpolator;return function s(a){a.childNodes.forEach((function(a){if(1==a.nodeType){if(a.classList.contains(e.settings.classNames.tag)&&e.tagData(a)){if(e.tagData(a).__removed)return;return void(t+=i[0]+JSON.stringify(a.__tagifyTagData)+i[1])}\"BR\"!=a.tagName||a.parentNode!=e.DOM.input&&1!=a.parentNode.childNodes.length?\"DIV\"!=a.tagName&&\"P\"!=a.tagName||(t+=\"\\r\\n\",s(a)):t+=\"\\r\\n\"}else t+=a.textContent}))}(this.DOM.input),t}},p.prototype.removeTag=p.prototype.removeTags,p}));\n"]},"metadata":{},"sourceType":"script"}