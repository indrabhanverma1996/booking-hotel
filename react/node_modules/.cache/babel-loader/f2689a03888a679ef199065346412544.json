{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\project\\\\react\\\\src\\\\Components\\\\AdminDashboard\\\\HotelManagement\\\\EditHotelForm.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getHotel, updateHotel } from \"../../../redux/actions/hotels\";\nimport { setSuccess } from \"../../../redux/actions/global\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport ErrorMessage from \"../../Global/ErrorMessage\";\nimport SuccessMessage from \"../../Global/SuccessMessage\";\nimport Loading from \"../../Global/Loading\";\n\nfunction EditHotelForm() {\n  const dispatch = useDispatch();\n  const state = useSelector(state => state);\n  let {\n    id\n  } = useParams();\n  const [hotel, setHotel] = useState({\n    name: \"\",\n    address: \"\",\n    city: \"\",\n    star: \"\",\n    x_coordinate: \"\",\n    y_coordinate: \"\"\n  });\n  const [image, setImage] = useState(null);\n  useEffect(() => {\n    getHotel(dispatch, id);\n  }, []); // eslint-disable-line\n\n  useEffect(() => {\n    state.hotels.hotel && setHotel(state.hotels.hotel);\n  }, [state.hotels.hotel]); // eslint-disable-line\n\n  const onSubmitHandler = e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append(\"_method\", \"PUT\");\n    formData.append(\"id\", id);\n    formData.append(\"name\", hotel.name);\n    formData.append(\"address\", hotel.address);\n    formData.append(\"city\", hotel.city);\n    formData.append(\"star\", hotel.star);\n    formData.append(\"x_coordinate\", hotel.x_coordinate);\n    formData.append(\"y_coordinate\", hotel.y_coordinate);\n    image && formData.append(\"image\", image);\n    updateHotel(dispatch, formData, state.auth.token);\n  };\n\n  let history = useHistory();\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setSuccess(dispatch, null);\n\n      if (state.hotels.success) {\n        history.push(\"/hotel-management\");\n      }\n    }, 3000);\n    return () => clearTimeout(timer);\n  }, [state.hotels.success]); // eslint-disable-line\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-full md:w-6/12 xl:w-8/12 md:ml-5 bg-gray-200 p-5 rounded-sm  \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, state.hotels.loading && /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 38\n    }\n  }), state.hotels.success === false && /*#__PURE__*/React.createElement(ErrorMessage, {\n    errors: state.hotels.errors,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }), state.hotels.success && /*#__PURE__*/React.createElement(SuccessMessage, {\n    message: \"Success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 38\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"text-xl font-semibold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, \"Add Hotel\"), /*#__PURE__*/React.createElement(\"form\", {\n    action: \"\",\n    className: \"mt-5 bg-gray-300 p-5 rounded-sm \",\n    onSubmit: onSubmitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"first_name\",\n    className: \"block mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, \"Hotel Main Picture:\", \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex items-center mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: hotel && hotel.image ? `${process.env.REACT_APP_BASE_URL}/img/hotels/${hotel.image}` : \"http://placehold.it/300x300?text=hotel image\",\n    alt: \"hotel\",\n    className: \"w-32 h-32 rounded-sm object-cover\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"ml-5 px-5 py-2 text-gray-200 bg-orange-500 hover:bg-orange-900 rounded-sm cursor-pointer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    id: \"test\",\n    className: \"hidden\",\n    onChange: e => {\n      setImage(e.target.files[0]);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-camera mr-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 25\n    }\n  }, image ? image.name : \"Upload\"))), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"name\",\n    className: \"block mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, \"Hotel Name:\", \" \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    className: \"p-2 w-full xl:w-1/2 border border-gray-400 focus:outline-none focus:border-black\",\n    value: hotel.name,\n    onChange: e => setHotel({ ...hotel,\n      name: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"star\",\n    className: \"block mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 17\n    }\n  }, \"Star:\", \" \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    name: \"star\",\n    className: \"p-2 w-full xl:w-1/2 border border-gray-400 focus:outline-none focus:border-black\",\n    value: hotel.star,\n    onChange: e => setHotel({ ...hotel,\n      star: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"address\",\n    className: \"block mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 17\n    }\n  }, \"Address:\", \" \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"address\",\n    className: \"p-2 w-full xl:w-1/2 border border-gray-400 focus:outline-none focus:border-black\",\n    value: hotel.address,\n    onChange: e => setHotel({ ...hotel,\n      address: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"city\",\n    className: \"block mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 17\n    }\n  }, \"City:\", \" \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"city\",\n    className: \"p-2 w-full xl:w-1/2 border border-gray-400 focus:outline-none focus:border-black\",\n    value: hotel.city,\n    onChange: e => setHotel({ ...hotel,\n      city: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"map_coordinates\",\n    className: \"block mt-5 font-semibold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 17\n    }\n  }, \"Map Coordinate:\", \" \"), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"map_coordinates\",\n    className: \"block mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 17\n    }\n  }, \"X Coordinate:\", \" \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"map_coordinates\",\n    className: \"p-2 w-full xl:w-1/2 border border-gray-400 focus:outline-none focus:border-black\",\n    value: hotel.x_coordinate,\n    onChange: e => setHotel({ ...hotel,\n      x_coordinate: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"map_coordinates\",\n    className: \"block mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 17\n    }\n  }, \"Y Coordinate:\", \" \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"map_coordinates\",\n    className: \"p-2 w-full xl:w-1/2 border border-gray-400 focus:outline-none focus:border-black\",\n    value: hotel.y_coordinate,\n    onChange: e => setHotel({ ...hotel,\n      y_coordinate: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"text-center bg-yellow-600 text-white hover:bg-yellow-700 uppercase text-sm px-6 py-2 shadow\\r hover:shadow-lg block mt-5\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 17\n    }\n  }, \"Update Hotel\")));\n}\n\nexport default EditHotelForm;","map":{"version":3,"sources":["C:/xampp/htdocs/project/react/src/Components/AdminDashboard/HotelManagement/EditHotelForm.js"],"names":["React","useState","useEffect","useDispatch","useSelector","getHotel","updateHotel","setSuccess","useParams","useHistory","ErrorMessage","SuccessMessage","Loading","EditHotelForm","dispatch","state","id","hotel","setHotel","name","address","city","star","x_coordinate","y_coordinate","image","setImage","hotels","onSubmitHandler","e","preventDefault","formData","FormData","append","auth","token","history","timer","setTimeout","success","push","clearTimeout","loading","errors","process","env","REACT_APP_BASE_URL","target","files","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getHotel, updateHotel } from \"../../../redux/actions/hotels\";\r\nimport { setSuccess } from \"../../../redux/actions/global\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport ErrorMessage from \"../../Global/ErrorMessage\";\r\nimport SuccessMessage from \"../../Global/SuccessMessage\";\r\nimport Loading from \"../../Global/Loading\";\r\n\r\nfunction EditHotelForm() {\r\n    const dispatch = useDispatch();\r\n    const state = useSelector((state) => state);\r\n    let { id } = useParams();\r\n\r\n    const [hotel, setHotel] = useState({\r\n        name: \"\",\r\n        address: \"\",\r\n        city: \"\",\r\n        star: \"\",\r\n        x_coordinate: \"\",\r\n        y_coordinate: \"\"\r\n    });\r\n    const [image, setImage] = useState(null);\r\n\r\n    useEffect(() => {\r\n        getHotel(dispatch, id);\r\n    }, []); // eslint-disable-line\r\n\r\n    useEffect(() => {\r\n        state.hotels.hotel && setHotel(state.hotels.hotel);\r\n    }, [state.hotels.hotel]); // eslint-disable-line\r\n\r\n    const onSubmitHandler = (e) => {\r\n        e.preventDefault();\r\n\r\n        const formData = new FormData();\r\n        formData.append(\"_method\", \"PUT\");\r\n\r\n        formData.append(\"id\", id);\r\n        formData.append(\"name\", hotel.name);\r\n        formData.append(\"address\", hotel.address);\r\n        formData.append(\"city\", hotel.city);\r\n        formData.append(\"star\", hotel.star);\r\n        formData.append(\"x_coordinate\", hotel.x_coordinate);\r\n        formData.append(\"y_coordinate\", hotel.y_coordinate);\r\n        image && formData.append(\"image\", image);\r\n\r\n        updateHotel(dispatch, formData, state.auth.token);\r\n    };\r\n\r\n    let history = useHistory();\r\n    useEffect(() => {\r\n        const timer = setTimeout(() => {\r\n            setSuccess(dispatch, null);\r\n            if (state.hotels.success) {\r\n                history.push(\"/hotel-management\");\r\n            }\r\n        }, 3000);\r\n        return () => clearTimeout(timer);\r\n    }, [state.hotels.success]); // eslint-disable-line\r\n\r\n    return (\r\n        <div className=\"w-full md:w-6/12 xl:w-8/12 md:ml-5 bg-gray-200 p-5 rounded-sm  \">\r\n            {state.hotels.loading && <Loading />}\r\n            {state.hotels.success === false && (\r\n                <ErrorMessage errors={state.hotels.errors} />\r\n            )}\r\n            {state.hotels.success && <SuccessMessage message=\"Success\" />}\r\n            <h2 className=\"text-xl font-semibold\">Add Hotel</h2>\r\n            <form\r\n                action=\"\"\r\n                className=\"mt-5 bg-gray-300 p-5 rounded-sm \"\r\n                onSubmit={onSubmitHandler}\r\n            >\r\n                <label htmlFor=\"first_name\" className=\"block mt-5\">\r\n                    Hotel Main Picture:{\" \"}\r\n                </label>\r\n                <div className=\"flex items-center mt-5\">\r\n                    <img\r\n                        src={\r\n                            hotel && hotel.image\r\n                                ? `${process.env.REACT_APP_BASE_URL}/img/hotels/${hotel.image}`\r\n                                : \"http://placehold.it/300x300?text=hotel image\"\r\n                        }\r\n                        alt=\"hotel\"\r\n                        className=\"w-32 h-32 rounded-sm object-cover\"\r\n                    />\r\n\r\n                    <label className=\"ml-5 px-5 py-2 text-gray-200 bg-orange-500 hover:bg-orange-900 rounded-sm cursor-pointer\">\r\n                        <input\r\n                            type=\"file\"\r\n                            id=\"test\"\r\n                            className=\"hidden\"\r\n                            onChange={(e) => {\r\n                                setImage(e.target.files[0]);\r\n                            }}\r\n                        />\r\n                        <i className=\"fas fa-camera mr-2\"></i>\r\n                        <span>{image ? image.name : \"Upload\"}</span>\r\n                    </label>\r\n                </div>\r\n                <label htmlFor=\"name\" className=\"block mt-5\">\r\n                    Hotel Name:{\" \"}\r\n                </label>\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"name\"\r\n                    className=\"p-2 w-full xl:w-1/2 border border-gray-400 focus:outline-none focus:border-black\"\r\n                    value={hotel.name}\r\n                    onChange={(e) =>\r\n                        setHotel({ ...hotel, name: e.target.value })\r\n                    }\r\n                />\r\n\r\n                <label htmlFor=\"star\" className=\"block mt-5\">\r\n                    Star:{\" \"}\r\n                </label>\r\n                <input\r\n                    type=\"number\"\r\n                    name=\"star\"\r\n                    className=\"p-2 w-full xl:w-1/2 border border-gray-400 focus:outline-none focus:border-black\"\r\n                    value={hotel.star}\r\n                    onChange={(e) =>\r\n                        setHotel({ ...hotel, star: e.target.value })\r\n                    }\r\n                />\r\n\r\n                <label htmlFor=\"address\" className=\"block mt-5\">\r\n                    Address:{\" \"}\r\n                </label>\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"address\"\r\n                    className=\"p-2 w-full xl:w-1/2 border border-gray-400 focus:outline-none focus:border-black\"\r\n                    value={hotel.address}\r\n                    onChange={(e) =>\r\n                        setHotel({ ...hotel, address: e.target.value })\r\n                    }\r\n                />\r\n\r\n                <label htmlFor=\"city\" className=\"block mt-5\">\r\n                    City:{\" \"}\r\n                </label>\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"city\"\r\n                    className=\"p-2 w-full xl:w-1/2 border border-gray-400 focus:outline-none focus:border-black\"\r\n                    value={hotel.city}\r\n                    onChange={(e) =>\r\n                        setHotel({ ...hotel, city: e.target.value })\r\n                    }\r\n                />\r\n\r\n                <label\r\n                    htmlFor=\"map_coordinates\"\r\n                    className=\"block mt-5 font-semibold\"\r\n                >\r\n                    Map Coordinate:{\" \"}\r\n                </label>\r\n                <label htmlFor=\"map_coordinates\" className=\"block mt-5\">\r\n                    X Coordinate:{\" \"}\r\n                </label>\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"map_coordinates\"\r\n                    className=\"p-2 w-full xl:w-1/2 border border-gray-400 focus:outline-none focus:border-black\"\r\n                    value={hotel.x_coordinate}\r\n                    onChange={(e) =>\r\n                        setHotel({ ...hotel, x_coordinate: e.target.value })\r\n                    }\r\n                />\r\n                <label htmlFor=\"map_coordinates\" className=\"block mt-5\">\r\n                    Y Coordinate:{\" \"}\r\n                </label>\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"map_coordinates\"\r\n                    className=\"p-2 w-full xl:w-1/2 border border-gray-400 focus:outline-none focus:border-black\"\r\n                    value={hotel.y_coordinate}\r\n                    onChange={(e) =>\r\n                        setHotel({ ...hotel, y_coordinate: e.target.value })\r\n                    }\r\n                />\r\n\r\n                <button\r\n                    className=\"text-center bg-yellow-600 text-white hover:bg-yellow-700 uppercase text-sm px-6 py-2 shadow\r\n                    hover:shadow-lg block mt-5\"\r\n                    type=\"submit\"\r\n                >\r\n                    Update Hotel\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default EditHotelForm;\r\n"]},"metadata":{},"sourceType":"module"}