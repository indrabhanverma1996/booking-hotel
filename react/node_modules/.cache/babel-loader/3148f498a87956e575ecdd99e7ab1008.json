{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\hotel101-hotel-bookings-laravel-react\\\\frontend\\\\src\\\\Components\\\\Hotel\\\\index.js\";\nimport React, { useEffect, useState } from \"react\";\nimport Header from \"../Global/Header\";\nimport Footer from \"../Global/Footer\";\nimport Border from \"../Global/Border\";\nimport TitleSection from \"../Global/TitleSection\";\nimport Loading from \"../Global/Loading\";\nimport HotelHero from \"./HotelHero\";\nimport HotelRooms from \"./HotelRooms\";\nimport GuestReviewsList from \"./GuestReviewsList\";\nimport ReviewForm from \"./ReviewForm\";\nimport HotelGoogleMap from \"./HotelGoogleMap\";\nimport { getHotel } from \"../../redux/actions/hotels\";\nimport { getHotelReviews } from \"../../redux/actions/reviews\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport { useHistory } from \"react-router-dom\";\nimport useSecureLs from \"../Global/useSecureLs\";\n\nfunction Hotel(props) {\n  const dispatch = useDispatch();\n  const state = useSelector(state => state);\n  let {\n    id\n  } = useParams();\n  const [_user_id] = useSecureLs(\"user_id\");\n  const [userId, setUserId] = useState(_user_id);\n  useEffect(() => {\n    getHotel(dispatch, id);\n  }, [state.reviews]); // eslint-disable-line\n\n  useEffect(() => {\n    setUserId(userId);\n    getHotelReviews(dispatch, id, userId);\n  }, []); // eslint-disable-line\n\n  let history = useHistory();\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      if (!state.hotels.hotel) {\n        history.push({\n          pathname: \"/404\",\n          state: {\n            message: \"There is no such hotel, you'll be redirected in a bit\"\n          }\n        });\n      }\n    }, 3000);\n    document.title = `${state.hotels.hotel.name} Hotel`;\n    return () => clearTimeout(timer);\n  }, [state.hotels.hotel]); // eslint-disable-line\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, state.reviews.loading && /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 39\n    }\n  }), /*#__PURE__*/React.createElement(Header, {\n    hotelId: id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(HotelHero, {\n    hotel: state.hotels.hotel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }), state.hotels.hotel && /*#__PURE__*/React.createElement(TitleSection, {\n    title: `${state.hotels.hotel.name}'s Rooms`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(HotelRooms, {\n    hotel: state.hotels.hotel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }), state && state.reviews.reviews.length > 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Border, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(TitleSection, {\n    title: `What guests say about ${state.hotels.hotel && state.hotels.hotel.name} Hotel`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(GuestReviewsList, {\n    reviews: state.reviews.reviews,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  })), state.auth.isAuthenticated && state.reviews.hasBooked ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ReviewForm, Object.assign({}, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }\n  })), \" \", /*#__PURE__*/React.createElement(Border, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 47\n    }\n  })) : \"\", /*#__PURE__*/React.createElement(Border, {\n    my: \"16\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }), state.hotels.hotel && /*#__PURE__*/React.createElement(TitleSection, {\n    title: `Where to find ${state.hotels.hotel.name} Hotel`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }), state.hotels.hotel && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relative w-full\",\n    style: {\n      height: \"400px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(HotelGoogleMap, {\n    x: state.hotels.hotel.x_coordinate,\n    y: state.hotels.hotel.y_coordinate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Border, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }));\n}\n\nexport default Hotel;","map":{"version":3,"sources":["C:/xampp/htdocs/hotel101-hotel-bookings-laravel-react/frontend/src/Components/Hotel/index.js"],"names":["React","useEffect","useState","Header","Footer","Border","TitleSection","Loading","HotelHero","HotelRooms","GuestReviewsList","ReviewForm","HotelGoogleMap","getHotel","getHotelReviews","useSelector","useDispatch","useParams","useHistory","useSecureLs","Hotel","props","dispatch","state","id","_user_id","userId","setUserId","reviews","history","timer","setTimeout","hotels","hotel","push","pathname","message","document","title","name","clearTimeout","loading","length","auth","isAuthenticated","hasBooked","height","x_coordinate","y_coordinate"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Header from \"../Global/Header\";\r\nimport Footer from \"../Global/Footer\";\r\nimport Border from \"../Global/Border\";\r\nimport TitleSection from \"../Global/TitleSection\";\r\nimport Loading from \"../Global/Loading\";\r\n\r\nimport HotelHero from \"./HotelHero\";\r\nimport HotelRooms from \"./HotelRooms\";\r\nimport GuestReviewsList from \"./GuestReviewsList\";\r\nimport ReviewForm from \"./ReviewForm\";\r\nimport HotelGoogleMap from \"./HotelGoogleMap\";\r\n\r\nimport { getHotel } from \"../../redux/actions/hotels\";\r\nimport { getHotelReviews } from \"../../redux/actions/reviews\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport useSecureLs from \"../Global/useSecureLs\";\r\n\r\nfunction Hotel(props) {\r\n    const dispatch = useDispatch();\r\n    const state = useSelector((state) => state);\r\n    let { id } = useParams();\r\n    const [_user_id] = useSecureLs(\"user_id\");\r\n    const [userId, setUserId] = useState(_user_id);\r\n\r\n    useEffect(() => {\r\n        getHotel(dispatch, id);\r\n    }, [state.reviews]); // eslint-disable-line\r\n    useEffect(() => {\r\n        setUserId(userId);\r\n        getHotelReviews(dispatch, id, userId);\r\n    }, []); // eslint-disable-line\r\n\r\n    let history = useHistory();\r\n    useEffect(() => {\r\n        const timer = setTimeout(() => {\r\n            if (!state.hotels.hotel) {\r\n                history.push({\r\n                    pathname: \"/404\",\r\n                    state: {\r\n                        message:\r\n                            \"There is no such hotel, you'll be redirected in a bit\"\r\n                    }\r\n                });\r\n            }\r\n        }, 3000);\r\n        document.title = `${state.hotels.hotel.name} Hotel`;\r\n        return () => clearTimeout(timer);\r\n    }, [state.hotels.hotel]); // eslint-disable-line\r\n    return (\r\n        <>\r\n            {state.reviews.loading && <Loading />}\r\n\r\n            <Header hotelId={id} />\r\n\r\n            <HotelHero hotel={state.hotels.hotel} />\r\n\r\n            {state.hotels.hotel && (\r\n                <TitleSection title={`${state.hotels.hotel.name}'s Rooms`} />\r\n            )}\r\n\r\n            <HotelRooms hotel={state.hotels.hotel} />\r\n\r\n            {state && state.reviews.reviews.length > 0 && (\r\n                <>\r\n                    <Border />\r\n\r\n                    <TitleSection\r\n                        title={`What guests say about ${\r\n                            state.hotels.hotel && state.hotels.hotel.name\r\n                        } Hotel`}\r\n                    />\r\n                    <GuestReviewsList reviews={state.reviews.reviews} />\r\n                </>\r\n            )}\r\n\r\n            {state.auth.isAuthenticated && state.reviews.hasBooked ? (\r\n                <>\r\n                    <ReviewForm {...props} /> <Border />\r\n                </>\r\n            ) : (\r\n                \"\"\r\n            )}\r\n\r\n            <Border my=\"16\" />\r\n\r\n            {state.hotels.hotel && (\r\n                <TitleSection\r\n                    title={`Where to find ${state.hotels.hotel.name} Hotel`}\r\n                />\r\n            )}\r\n\r\n            {state.hotels.hotel && (\r\n                <div className=\"relative w-full\" style={{ height: \"400px\" }}>\r\n                    <HotelGoogleMap\r\n                        x={state.hotels.hotel.x_coordinate}\r\n                        y={state.hotels.hotel.y_coordinate}\r\n                    />\r\n                </div>\r\n            )}\r\n\r\n            <Border />\r\n\r\n            <Footer />\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Hotel;\r\n"]},"metadata":{},"sourceType":"module"}