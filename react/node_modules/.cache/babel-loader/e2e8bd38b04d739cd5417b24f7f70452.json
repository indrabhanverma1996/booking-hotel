{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\hotel101-hotel-bookings-laravel-react\\\\frontend\\\\src\\\\Components\\\\AdminDashboard\\\\HotelManagement\\\\AddHotelForm.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { addHotel } from \"../../../redux/actions/hotels\";\nimport { setSuccess } from \"../../../redux/actions/global\";\nimport ErrorMessage from \"../../Global/ErrorMessage\";\nimport SuccessMessage from \"../../Global/SuccessMessage\";\nimport Loading from \"../../Global/Loading\";\n\nfunction AddHotelForm() {\n  const dispatch = useDispatch();\n  const state = useSelector(state => state);\n  const [hotel, setHotel] = useState({\n    name: \"\",\n    address: \"\",\n    city: \"\",\n    star: \"\",\n    x_coordinate: \"\",\n    y_coordinate: \"\"\n  });\n  const [image, setImage] = useState(null);\n\n  const onSubmitHandler = e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append(\"name\", hotel.name);\n    formData.append(\"address\", hotel.address);\n    formData.append(\"city\", hotel.city);\n    formData.append(\"star\", hotel.star);\n    formData.append(\"x_coordinate\", hotel.x_coordinate);\n    formData.append(\"y_coordinate\", hotel.y_coordinate);\n    image && formData.append(\"image\", image);\n    addHotel(dispatch, formData, state.auth.token);\n  };\n\n  let history = useHistory();\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setSuccess(dispatch, null);\n\n      if (state.hotels.success) {\n        history.push(\"/hotel-management\");\n      }\n    }, 3000);\n    return () => clearTimeout(timer);\n  }, [state.hotels.success]); // eslint-disable-line\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-full md:w-6/12 xl:w-8/12 md:ml-5 bg-gray-200 p-5 rounded-sm  \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, state.hotels.loading && /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 38\n    }\n  }), state.hotels.success === false && /*#__PURE__*/React.createElement(ErrorMessage, {\n    errors: state.hotels.errors,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }), state.hotels.success && /*#__PURE__*/React.createElement(SuccessMessage, {\n    message: \"Success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 38\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"text-xl font-semibold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, \"Add Hotel\"), /*#__PURE__*/React.createElement(\"form\", {\n    action: \"\",\n    className: \"mt-5 bg-gray-300 p-5 rounded-sm \",\n    onSubmit: onSubmitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"first_name\",\n    className: \"block mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, \"Hotel Main Picture:\", \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex items-center mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: hotel && hotel.image ? `${process.env.REACT_APP_BASE_URL}/img/hotels/${hotel.image}` : \"http://placehold.it/300x300?text=hotel image\",\n    alt: \"hotel\",\n    className: \"w-32 h-32 rounded-sm object-cover\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"ml-5 px-5 py-2 text-gray-200 bg-orange-500 hover:bg-orange-900 rounded-sm cursor-pointer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    id: \"test\",\n    className: \"hidden\",\n    onChange: e => {\n      setImage(e.target.files[0]);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-camera mr-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 25\n    }\n  }, image ? image.name : \"Upload\"))), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"name\",\n    className: \"block mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, \"Hotel Name:\", \" \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    className: \"p-2 w-full xl:w-1/2 border border-gray-400 focus:outline-none focus:border-black\",\n    value: hotel.name,\n    onChange: e => setHotel({ ...hotel,\n      name: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"star\",\n    className: \"block mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }, \"Star:\", \" \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    name: \"star\",\n    className: \"p-2 w-full xl:w-1/2 border border-gray-400 focus:outline-none focus:border-black\",\n    value: hotel.star,\n    onChange: e => setHotel({ ...hotel,\n      star: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"address\",\n    className: \"block mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }, \"Address:\", \" \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"address\",\n    className: \"p-2 w-full xl:w-1/2 border border-gray-400 focus:outline-none focus:border-black\",\n    value: hotel.address,\n    onChange: e => setHotel({ ...hotel,\n      address: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"city\",\n    className: \"block mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }\n  }, \"City:\", \" \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"city\",\n    className: \"p-2 w-full xl:w-1/2 border border-gray-400 focus:outline-none focus:border-black\",\n    value: hotel.city,\n    onChange: e => setHotel({ ...hotel,\n      city: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"map_coordinates\",\n    className: \"block mt-5 font-semibold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 17\n    }\n  }, \"Map Coordinate:\", \" \"), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"map_coordinates\",\n    className: \"block mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 17\n    }\n  }, \"X Coordinate:\", \" \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"map_coordinates\",\n    className: \"p-2 w-full xl:w-1/2 border border-gray-400 focus:outline-none focus:border-black\",\n    value: hotel.x_coordinate,\n    onChange: e => setHotel({ ...hotel,\n      x_coordinate: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"map_coordinates\",\n    className: \"block mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 17\n    }\n  }, \"Y Coordinate:\", \" \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"map_coordinates\",\n    className: \"p-2 w-full xl:w-1/2 border border-gray-400 focus:outline-none focus:border-black\",\n    value: hotel.y_coordinate,\n    onChange: e => setHotel({ ...hotel,\n      y_coordinate: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"text-center bg-yellow-600 text-white hover:bg-yellow-700 uppercase text-sm px-6 py-2 shadow\\r hover:shadow-lg block mt-5\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 17\n    }\n  }, \"Add Hotel\")));\n}\n\nexport default AddHotelForm;","map":{"version":3,"sources":["C:/xampp/htdocs/hotel101-hotel-bookings-laravel-react/frontend/src/Components/AdminDashboard/HotelManagement/AddHotelForm.js"],"names":["React","useState","useEffect","useDispatch","useSelector","useHistory","addHotel","setSuccess","ErrorMessage","SuccessMessage","Loading","AddHotelForm","dispatch","state","hotel","setHotel","name","address","city","star","x_coordinate","y_coordinate","image","setImage","onSubmitHandler","e","preventDefault","formData","FormData","append","auth","token","history","timer","setTimeout","hotels","success","push","clearTimeout","loading","errors","process","env","REACT_APP_BASE_URL","target","files","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { addHotel } from \"../../../redux/actions/hotels\";\r\nimport { setSuccess } from \"../../../redux/actions/global\";\r\nimport ErrorMessage from \"../../Global/ErrorMessage\";\r\nimport SuccessMessage from \"../../Global/SuccessMessage\";\r\nimport Loading from \"../../Global/Loading\";\r\nfunction AddHotelForm() {\r\n    const dispatch = useDispatch();\r\n    const state = useSelector((state) => state);\r\n\r\n    const [hotel, setHotel] = useState({\r\n        name: \"\",\r\n        address: \"\",\r\n        city: \"\",\r\n        star: \"\",\r\n        x_coordinate: \"\",\r\n        y_coordinate: \"\"\r\n    });\r\n    const [image, setImage] = useState(null);\r\n\r\n    const onSubmitHandler = (e) => {\r\n        e.preventDefault();\r\n        const formData = new FormData();\r\n        formData.append(\"name\", hotel.name);\r\n        formData.append(\"address\", hotel.address);\r\n        formData.append(\"city\", hotel.city);\r\n        formData.append(\"star\", hotel.star);\r\n        formData.append(\"x_coordinate\", hotel.x_coordinate);\r\n        formData.append(\"y_coordinate\", hotel.y_coordinate);\r\n        image && formData.append(\"image\", image);\r\n\r\n        addHotel(dispatch, formData, state.auth.token);\r\n    };\r\n\r\n    let history = useHistory();\r\n    useEffect(() => {\r\n        const timer = setTimeout(() => {\r\n            setSuccess(dispatch, null);\r\n            if (state.hotels.success) {\r\n                history.push(\"/hotel-management\");\r\n            }\r\n        }, 3000);\r\n        return () => clearTimeout(timer);\r\n    }, [state.hotels.success]); // eslint-disable-line\r\n    return (\r\n        <div className=\"w-full md:w-6/12 xl:w-8/12 md:ml-5 bg-gray-200 p-5 rounded-sm  \">\r\n            {state.hotels.loading && <Loading />}\r\n\r\n            {state.hotels.success === false && (\r\n                <ErrorMessage errors={state.hotels.errors} />\r\n            )}\r\n            {state.hotels.success && <SuccessMessage message=\"Success\" />}\r\n\r\n            <h2 className=\"text-xl font-semibold\">Add Hotel</h2>\r\n            <form\r\n                action=\"\"\r\n                className=\"mt-5 bg-gray-300 p-5 rounded-sm \"\r\n                onSubmit={onSubmitHandler}\r\n            >\r\n                <label htmlFor=\"first_name\" className=\"block mt-5\">\r\n                    Hotel Main Picture:{\" \"}\r\n                </label>\r\n                <div className=\"flex items-center mt-5\">\r\n                    <img\r\n                        src={\r\n                            hotel && hotel.image\r\n                                ? `${process.env.REACT_APP_BASE_URL}/img/hotels/${hotel.image}`\r\n                                : \"http://placehold.it/300x300?text=hotel image\"\r\n                        }\r\n                        alt=\"hotel\"\r\n                        className=\"w-32 h-32 rounded-sm object-cover\"\r\n                    />\r\n\r\n                    <label className=\"ml-5 px-5 py-2 text-gray-200 bg-orange-500 hover:bg-orange-900 rounded-sm cursor-pointer\">\r\n                        <input\r\n                            type=\"file\"\r\n                            id=\"test\"\r\n                            className=\"hidden\"\r\n                            onChange={(e) => {\r\n                                setImage(e.target.files[0]);\r\n                            }}\r\n                        />\r\n                        <i className=\"fas fa-camera mr-2\"></i>\r\n                        <span>{image ? image.name : \"Upload\"}</span>\r\n                    </label>\r\n                </div>\r\n\r\n                <label htmlFor=\"name\" className=\"block mt-5\">\r\n                    Hotel Name:{\" \"}\r\n                </label>\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"name\"\r\n                    className=\"p-2 w-full xl:w-1/2 border border-gray-400 focus:outline-none focus:border-black\"\r\n                    value={hotel.name}\r\n                    onChange={(e) =>\r\n                        setHotel({ ...hotel, name: e.target.value })\r\n                    }\r\n                />\r\n\r\n                <label htmlFor=\"star\" className=\"block mt-5\">\r\n                    Star:{\" \"}\r\n                </label>\r\n                <input\r\n                    type=\"number\"\r\n                    name=\"star\"\r\n                    className=\"p-2 w-full xl:w-1/2 border border-gray-400 focus:outline-none focus:border-black\"\r\n                    value={hotel.star}\r\n                    onChange={(e) =>\r\n                        setHotel({ ...hotel, star: e.target.value })\r\n                    }\r\n                />\r\n\r\n                <label htmlFor=\"address\" className=\"block mt-5\">\r\n                    Address:{\" \"}\r\n                </label>\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"address\"\r\n                    className=\"p-2 w-full xl:w-1/2 border border-gray-400 focus:outline-none focus:border-black\"\r\n                    value={hotel.address}\r\n                    onChange={(e) =>\r\n                        setHotel({ ...hotel, address: e.target.value })\r\n                    }\r\n                />\r\n\r\n                <label htmlFor=\"city\" className=\"block mt-5\">\r\n                    City:{\" \"}\r\n                </label>\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"city\"\r\n                    className=\"p-2 w-full xl:w-1/2 border border-gray-400 focus:outline-none focus:border-black\"\r\n                    value={hotel.city}\r\n                    onChange={(e) =>\r\n                        setHotel({ ...hotel, city: e.target.value })\r\n                    }\r\n                />\r\n\r\n                <label\r\n                    htmlFor=\"map_coordinates\"\r\n                    className=\"block mt-5 font-semibold\"\r\n                >\r\n                    Map Coordinate:{\" \"}\r\n                </label>\r\n                <label htmlFor=\"map_coordinates\" className=\"block mt-5\">\r\n                    X Coordinate:{\" \"}\r\n                </label>\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"map_coordinates\"\r\n                    className=\"p-2 w-full xl:w-1/2 border border-gray-400 focus:outline-none focus:border-black\"\r\n                    value={hotel.x_coordinate}\r\n                    onChange={(e) =>\r\n                        setHotel({ ...hotel, x_coordinate: e.target.value })\r\n                    }\r\n                />\r\n                <label htmlFor=\"map_coordinates\" className=\"block mt-5\">\r\n                    Y Coordinate:{\" \"}\r\n                </label>\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"map_coordinates\"\r\n                    className=\"p-2 w-full xl:w-1/2 border border-gray-400 focus:outline-none focus:border-black\"\r\n                    value={hotel.y_coordinate}\r\n                    onChange={(e) =>\r\n                        setHotel({ ...hotel, y_coordinate: e.target.value })\r\n                    }\r\n                />\r\n\r\n                <button\r\n                    className=\"text-center bg-yellow-600 text-white hover:bg-yellow-700 uppercase text-sm px-6 py-2 shadow\r\n                    hover:shadow-lg block mt-5\"\r\n                    type=\"submit\"\r\n                >\r\n                    Add Hotel\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AddHotelForm;\r\n"]},"metadata":{},"sourceType":"module"}